<html><BODY BGCOLOR=#ffffe0><FONT FACE=COURIER SIZE=3><STRONG><PRE>
<A NAME="0000"></A>                            ;************************************************************************************************
                            ;*                                  SPECIAL FUNCTION REGISTERS                                  *
                            ;************************************************************************************************
                            PORTA:                        ;XREF[13,0]:  <A HREF="#00cf">00cf</A>,<A HREF="#00e2">00e2</A>,<A HREF="#03c5">03c5</A>,<A HREF="#03c7">03c7</A>,<A HREF="#03c9">03c9</A>,<A HREF="#03cb">03cb</A>,<A HREF="#03f0">03f0</A>,<A HREF="#050c">050c</A>
                                                          ;             <A HREF="#0521">0521</A>,<A HREF="#0590">0590</A>,<A HREF="#0598">0598</A>,<A HREF="#05bb">05bb</A>,<A HREF="#0755">0755</A>
SFR:0000        ff              ??          FFh                                     ;I/O port A
<A NAME="0001"></A>                            PORTB:                        ;XREF[54,0]:  <A HREF="#00cd">00cd</A>,<A HREF="#00d1">00d1</A>,<A HREF="#00eb">00eb</A>,<A HREF="#00f0">00f0</A>,<A HREF="#03db">03db</A>,<A HREF="#03df">03df</A>,<A HREF="#03ed">03ed</A>,<A HREF="#03f2">03f2</A>
                                                          ;             <A HREF="#0481">0481</A>,<A HREF="#04ee">04ee</A>,<A HREF="#04f6">04f6</A>,<A HREF="#04f9">04f9</A>,<A HREF="#04fc">04fc</A>,<A HREF="#0509">0509</A>,<A HREF="#051d">051d</A>,<A HREF="#052d">052d</A>
                                                          ;             <A HREF="#0534">0534</A>,<A HREF="#0579">0579</A>,<A HREF="#0582">0582</A>,<A HREF="#059a">059a</A>,<A HREF="#05b8">05b8</A>,<A HREF="#05bd">05bd</A>,<A HREF="#05ef">05ef</A>,<A HREF="#05f1">05f1</A>
                                                          ;             <A HREF="#0642">0642</A>,<A HREF="#066b">066b</A>,<A HREF="#0671">0671</A>,<A HREF="#067b">067b</A>,<A HREF="#0688">0688</A>,<A HREF="#069e">069e</A>,<A HREF="#06a0">06a0</A>,<A HREF="#06a2">06a2</A>
                                                          ;             <A HREF="#06b0">06b0</A>,<A HREF="#06b5">06b5</A>,<A HREF="#06b9">06b9</A>,<A HREF="#06d6">06d6</A>,<A HREF="#06e0">06e0</A>,<A HREF="#06e2">06e2</A>,<A HREF="#06e7">06e7</A>,<A HREF="#06f2">06f2</A>
                                                          ;             <A HREF="#070b">070b</A>,<A HREF="#070d">070d</A>,<A HREF="#071a">071a</A>,<A HREF="#071e">071e</A>,<A HREF="#0723">0723</A>,<A HREF="#072a">072a</A>,<A HREF="#072e">072e</A>,<A HREF="#0730">0730</A>
                                                          ;             <A HREF="#0734">0734</A>,<A HREF="#0736">0736</A>,<A HREF="#0765">0765</A>,<A HREF="#0767">0767</A>,<A HREF="#076a">076a</A>,<A HREF="#0770">0770</A>
SFR:0001        ff              ??          FFh                                     ;I/O port B
<A NAME="0002"></A>                            PORTC:                        ;XREF[6,0]:   <A HREF="#00ca">00ca</A>,<A HREF="#00ed">00ed</A>,<A HREF="#03d5">03d5</A>,<A HREF="#03e1">03e1</A>,<A HREF="#03e4">03e4</A>,<A HREF="#0506">0506</A>
SFR:0002        ff              ??          FFh                                     ;I/O port C, low nibble only
<A NAME="0003"></A>SFR:0003        ff              ??          FFh                                     ;Not used
<A NAME="0004"></A>                            DDRA:                         ;XREF[14,0]:  <A HREF="#00c8">00c8</A>,<A HREF="#03ea">03ea</A>,<A HREF="#0407">0407</A>,<A HREF="#04c1">04c1</A>,<A HREF="#04e1">04e1</A>,<A HREF="#04f0">04f0</A>,<A HREF="#05e3">05e3</A>,<A HREF="#0632">0632</A>
                                                          ;             <A HREF="#0683">0683</A>,<A HREF="#068e">068e</A>,<A HREF="#0692">0692</A>,<A HREF="#06c3">06c3</A>,<A HREF="#072c">072c</A>,<A HREF="#0759">0759</A>
SFR:0004        ff              ??          FFh                                     ;Port A DDR
<A NAME="0005"></A>                            DDRB:                         ;XREF[3,0]:   <A HREF="#071c">071c</A>,<A HREF="#0728">0728</A>,<A HREF="#0741">0741</A>
SFR:0005        ff              ??          FFh                                     ;Port B DDR
<A NAME="0006"></A>                            DDRC:                         ;XREF[1,0]:   <A HREF="#0743">0743</A>
SFR:0006        ff              ??          FFh                                     ;Port C DDR, low nibble only
<A NAME="0007"></A>SFR:0007        ff              ??          FFh                                     
<A NAME="0008"></A>                            TIMER:                        ;XREF[4,0]:   <A HREF="#03d3">03d3</A>,<A HREF="#05f3">05f3</A>,<A HREF="#05f7">05f7</A>,<A HREF="#077a">077a</A>
SFR:0008        ff              ??          FFh                                     ;Timer data register
<A NAME="0009"></A>                            TCR:                          ;XREF[2,0]:   <A HREF="#06d4">06d4</A>,<A HREF="#0747">0747</A>
SFR:0009        7f              ??          7Fh                                    ;Timer control register
<A NAME="0040"></A>                            ;************************************************************************************************
                            ;*                                          RAM REGION                                          *
                            ;************************************************************************************************
                            DAT_0040:                     ;XREF[10,0]:  <A HREF="#0483">0483</A>,<A HREF="#057b">057b</A>,<A HREF="#0634">0634</A>,<A HREF="#0644">0644</A>,<A HREF="#0654">0654</A>,<A HREF="#065a">065a</A>,<A HREF="#0665">0665</A>,<A HREF="#067d">067d</A>
                                                          ;             <A HREF="#0714">0714</A>,<A HREF="#074f">074f</A>
RAM:0040        40              undefined1  40h                                     
<A NAME="0041"></A>                            DAT_0041:                     ;XREF[3,0]:   <A HREF="#047d">047d</A>,<A HREF="#0485">0485</A>,<A HREF="#0714">0714</A>
RAM:0041        9d              undefined1  9Dh                                     
<A NAME="0042"></A>RAM:0042        9d              ??          9Dh                                     
<A NAME="0043"></A>RAM:0043        9d              ??          9Dh                                     
<A NAME="0044"></A>                            TIER_AND:                     ;XREF[1,0]:   <A HREF="#04a0">04a0</A>
RAM:0044        9d              ??          9Dh                                     
<A NAME="0045"></A>RAM:0045        9d              ??          9Dh                                     
<A NAME="0046"></A>RAM:0046        9d              ??          9Dh                                     
<A NAME="0047"></A>RAM:0047        9d              ??          9Dh                                     
<A NAME="0048"></A>                            TIER_EOR:                     ;XREF[1,0]:   <A HREF="#04ac">04ac</A>
RAM:0048        9d              ??          9Dh                                     
<A NAME="0049"></A>                            DAT_0049:                     ;XREF[4,0]:   <A HREF="#044b">044b</A>,<A HREF="#0451">0451</A>,<A HREF="#04a0">04a0</A>,<A HREF="#074b">074b</A>
RAM:0049        9d              undefined1  9Dh                                     
<A NAME="004a"></A>                            DAT_004a:                     ;XREF[2,0]:   <A HREF="#0455">0455</A>,<A HREF="#04a0">04a0</A>
RAM:004a        9d              undefined1  9Dh                                     
<A NAME="004b"></A>                            DAT_004b:                     ;XREF[1,0]:   <A HREF="#0459">0459</A>
RAM:004b        9d              undefined1  9Dh                                     
<A NAME="004c"></A>                            DAT_004c:                     ;XREF[1,0]:   <A HREF="#045d">045d</A>
RAM:004c        9d              undefined1  9Dh                                     
<A NAME="004d"></A>                            DAT_004d:                     ;XREF[3,0]:   <A HREF="#044f">044f</A>,<A HREF="#0451">0451</A>,<A HREF="#04ac">04ac</A>
RAM:004d        9d              undefined1  9Dh                                     
<A NAME="004e"></A>                            DAT_004e:                     ;XREF[2,0]:   <A HREF="#0455">0455</A>,<A HREF="#04ac">04ac</A>
RAM:004e        9d              undefined1  9Dh                                     
<A NAME="004f"></A>                            DAT_004f:                     ;XREF[1,0]:   <A HREF="#0459">0459</A>
RAM:004f        9d              undefined1  9Dh                                     
<A NAME="0050"></A>                            DAT_0050:                     ;XREF[1,0]:   <A HREF="#045d">045d</A>
RAM:0050        9d              undefined1  9Dh                                     
<A NAME="0051"></A>                            DAT_0051:                     ;XREF[1,0]:   <A HREF="#06d2">06d2</A>
RAM:0051        ff              ??          FFh                                     
<A NAME="0052"></A>                            DAT_0052:                     ;XREF[1,0]:   <A HREF="#05b3">05b3</A>
RAM:0052        ff              ??          FFh                                     
<A NAME="0053"></A>                            DAT_0053:                     ;XREF[1,0]:   <A HREF="#0706">0706</A>
RAM:0053        ff              ??          FFh                                     
<A NAME="0054"></A>                            FLAGS54:                      ;XREF[36,0]:  <A HREF="#03e7">03e7</A>,<A HREF="#0402">0402</A>,<A HREF="#0412">0412</A>,<A HREF="#041a">041a</A>,<A HREF="#049c">049c</A>,<A HREF="#049e">049e</A>,<A HREF="#04a4">04a4</A>,<A HREF="#04a8">04a8</A>
                                                          ;             <A HREF="#04aa">04aa</A>,<A HREF="#04b0">04b0</A>,<A HREF="#04ba">04ba</A>,<A HREF="#04c3">04c3</A>,<A HREF="#04c6">04c6</A>,<A HREF="#04ce">04ce</A>,<A HREF="#04d3">04d3</A>,<A HREF="#04f2">04f2</A>
                                                          ;             <A HREF="#0536">0536</A>,<A HREF="#0538">0538</A>,<A HREF="#053b">053b</A>,<A HREF="#057e">057e</A>,<A HREF="#05b5">05b5</A>,<A HREF="#0611">0611</A>,<A HREF="#0619">0619</A>,<A HREF="#0675">0675</A>
                                                          ;             <A HREF="#068a">068a</A>,<A HREF="#069a">069a</A>,<A HREF="#06ab">06ab</A>,<A HREF="#06b2">06b2</A>,<A HREF="#06d9">06d9</A>,<A HREF="#06dd">06dd</A>,<A HREF="#06ef">06ef</A>,<A HREF="#06fe">06fe</A>
                                                          ;             <A HREF="#0708">0708</A>,<A HREF="#0721">0721</A>,<A HREF="#0772">0772</A>,<A HREF="#0776">0776</A>
RAM:0054        ff              ??          FFh                                     
<A NAME="0055"></A>                            reqSegmAddress:               ;XREF[3,0]:   <A HREF="#03f6">03f6</A>,<A HREF="#0606">0606</A>,<A HREF="#060b">060b</A>
RAM:0055        ff              ??          FFh                                     ;Requested segment address
<A NAME="0056"></A>RAM:0056        ff              ??          FFh                                     
<A NAME="0057"></A>RAM:0057        ff              ??          FFh                                     
<A NAME="0058"></A>RAM:0058        ff              undefined1  FFh                                     
<A NAME="0059"></A>                            cablePktHdr:                  ;XREF[7,5]:   <A HREF="#03f4">03f4</A>,<A HREF="#0429">0429</A>,<A HREF="#0447">0447</A>,<A HREF="#047b">047b</A>,<A HREF="#048c">048c</A>,<A HREF="#0592">0592</A>,<A HREF="#05bf">05bf</A>,<A HREF="#041c">041c</A>
                                                          ;             <A HREF="#0432">0432</A>,<A HREF="#0453">0453</A>,<A HREF="#0457">0457</A>,<A HREF="#045b">045b</A>
RAM:0059        f8f8f8fff...    ??[8]                                               
<A NAME="0059"></A>   |_RAM:0059        [0]             ??          F8h                                     
<A NAME="005a"></A>   |_RAM:005a        [1]             ??          F8h                                     
<A NAME="005b"></A>   |_RAM:005b        [2]             ??          F8h                                     
<A NAME="005c"></A>   |_RAM:005c        [3]             ??          FFh                                     
<A NAME="005d"></A>   |_RAM:005d        [4]             ??          FFh                                     
<A NAME="005e"></A>   |_RAM:005e        [5]             ??          F8h                                     
<A NAME="005f"></A>   |_RAM:005f        [6]             ??          F8h                                     
<A NAME="0060"></A>   |_RAM:0060        [7]             ??          60h    `                                
<A NAME="0061"></A>                            CRCAccumHigh:                 ;XREF[6,0]:   <A HREF="#0425">0425</A>,<A HREF="#0549">0549</A>,<A HREF="#0551">0551</A>,<A HREF="#0561">0561</A>,<A HREF="#0565">0565</A>,<A HREF="#05a9">05a9</A>
RAM:0061        00              ??          00h                                     
<A NAME="0062"></A>                            temp62:                       ;XREF[14,0]:  <A HREF="#0440">0440</A>,<A HREF="#046f">046f</A>,<A HREF="#059f">059f</A>,<A HREF="#05cc">05cc</A>,<A HREF="#05d3">05d3</A>,<A HREF="#05db">05db</A>,<A HREF="#05e5">05e5</A>,<A HREF="#064a">064a</A>
                                                          ;             <A HREF="#064e">064e</A>,<A HREF="#0652">0652</A>,<A HREF="#0656">0656</A>,<A HREF="#0669">0669</A>,<A HREF="#066f">066f</A>,<A HREF="#0701">0701</A>
RAM:0062        00              ??          00h                                     
<A NAME="0063"></A>                            DAT_0063:                     ;XREF[11,0]:  <A HREF="#0438">0438</A>,<A HREF="#0467">0467</A>,<A HREF="#0584">0584</A>,<A HREF="#058d">058d</A>,<A HREF="#0595">0595</A>,<A HREF="#05df">05df</A>,<A HREF="#05ea">05ea</A>,<A HREF="#062d">062d</A>
                                                          ;             <A HREF="#0639">0639</A>,<A HREF="#0650">0650</A>,<A HREF="#0658">0658</A>
RAM:0063        00              ??          00h                                     
<A NAME="0064"></A>                            DAT_0064:                     ;XREF[4,0]:   <A HREF="#043c">043c</A>,<A HREF="#046b">046b</A>,<A HREF="#051b">051b</A>,<A HREF="#0588">0588</A>
RAM:0064        00              ??          00h                                     
<A NAME="0065"></A>                            CRCTemp:                      ;XREF[2,0]:   <A HREF="#0544">0544</A>,<A HREF="#0553">0553</A>
RAM:0065        00              ??          00h                                     
<A NAME="0066"></A>                            CRCAccumLow:                  ;XREF[6,0]:   <A HREF="#0423">0423</A>,<A HREF="#0542">0542</A>,<A HREF="#054d">054d</A>,<A HREF="#055b">055b</A>,<A HREF="#055f">055f</A>,<A HREF="#05a3">05a3</A>
RAM:0066        00              ??          00h                                     
<A NAME="0067"></A>                            saved_Xreg:                   ;XREF[2,0]:   <A HREF="#0540">0540</A>,<A HREF="#0567">0567</A>
RAM:0067        00              ??          00h                                     
<A NAME="0068"></A>                            uartTxCharDelay:              ;XREF[4,0]:   <A HREF="#00e4">00e4</A>,<A HREF="#04ff">04ff</A>,<A HREF="#0663">0663</A>,<A HREF="#0753">0753</A>
RAM:0068        00              ??          00h                                     ;UART inter-character delay
<A NAME="0069"></A>                            ;************************************************************************************************
                            ;*  Space from here on seems to be reserved for stack                                           *
                            ;*  (note this is a P2 so the stack address MSN is 7, not F)                                    *
                            ;************************************************************************************************
RAM:0069        00              ??          00h                                     
<A NAME="006a"></A>RAM:006a        00              ??          00h                                     
<A NAME="006b"></A>RAM:006b        00              ??          00h                                     
<A NAME="006c"></A>RAM:006c        00              ??          00h                                     
<A NAME="006d"></A>RAM:006d        00              ??          00h                                     
<A NAME="006e"></A>RAM:006e        00              ??          00h                                     
<A NAME="006f"></A>RAM:006f        00              ??          00h                                     
<A NAME="0070"></A>RAM:0070        70              ??          70h    p                                
<A NAME="0071"></A>RAM:0071        00              ??          00h                                     
<A NAME="0072"></A>RAM:0072        00              ??          00h                                     
<A NAME="0073"></A>RAM:0073        00              ??          00h                                     
<A NAME="0074"></A>RAM:0074        f8              ??          F8h                                     
<A NAME="0075"></A>RAM:0075        70              ??          70h    p                                
<A NAME="0076"></A>RAM:0076        76              ??          76h    v                                
<A NAME="0077"></A>RAM:0077        ff              ??          FFh                                     
<A NAME="0078"></A>RAM:0078        78              ??          78h    x                                
<A NAME="0079"></A>RAM:0079        00              ??          00h                                     
<A NAME="007a"></A>RAM:007a        00              ??          00h                                     
<A NAME="007b"></A>RAM:007b        00              ??          00h                                     
<A NAME="007c"></A>RAM:007c        7c              ??          7Ch    |                                
<A NAME="007d"></A>RAM:007d        98              ??          98h                                     
<A NAME="007e"></A>RAM:007e        78              ??          78h    x                                
<A NAME="007f"></A>RAM:007f        00              ??          00h                                     
<A NAME="0080"></A>                            ;************************************************************************************************
                            ;*                                       ROM (PAGE-ZERO)                                        *
                            ;************************************************************************************************
                            CRCTabHi:                     ;XREF[2,0]:   <A HREF="#054b">054b</A>,<A HREF="#055d">055d</A>
ROM.PageZero:...001020304...    db[32]                                              
<A NAME="0080"></A>   |_ROM.PageZero:...[0]             db          0h                                      
<A NAME="0081"></A>   |_ROM.PageZero:...[1]             db          10h                                     
<A NAME="0082"></A>   |_ROM.PageZero:...[2]             db          20h                                     
<A NAME="0083"></A>   |_ROM.PageZero:...[3]             db          30h                                     
<A NAME="0084"></A>   |_ROM.PageZero:...[4]             db          40h                                     
<A NAME="0085"></A>   |_ROM.PageZero:...[5]             db          50h                                     
<A NAME="0086"></A>   |_ROM.PageZero:...[6]             db          60h                                     
<A NAME="0087"></A>   |_ROM.PageZero:...[7]             db          70h                                     
<A NAME="0088"></A>   |_ROM.PageZero:...[8]             db          81h                                     
<A NAME="0089"></A>   |_ROM.PageZero:...[9]             db          91h                                     
<A NAME="008a"></A>   |_ROM.PageZero:...[10]            db          A1h                                     
<A NAME="008b"></A>   |_ROM.PageZero:...[11]            db          B1h                                     
<A NAME="008c"></A>   |_ROM.PageZero:...[12]            db          C1h                                     
<A NAME="008d"></A>   |_ROM.PageZero:...[13]            db          D1h                                     
<A NAME="008e"></A>   |_ROM.PageZero:...[14]            db          E1h                                     
<A NAME="008f"></A>   |_ROM.PageZero:...[15]            db          F1h                                     
<A NAME="0090"></A>   |_ROM.PageZero:...[16]            db          0h                                      
<A NAME="0091"></A>   |_ROM.PageZero:...[17]            db          12h                                     
<A NAME="0092"></A>   |_ROM.PageZero:...[18]            db          24h                                     
<A NAME="0093"></A>   |_ROM.PageZero:...[19]            db          36h                                     
<A NAME="0094"></A>   |_ROM.PageZero:...[20]            db          48h                                     
<A NAME="0095"></A>   |_ROM.PageZero:...[21]            db          5Ah                                     
<A NAME="0096"></A>   |_ROM.PageZero:...[22]            db          6Ch                                     
<A NAME="0097"></A>   |_ROM.PageZero:...[23]            db          7Eh                                     
<A NAME="0098"></A>   |_ROM.PageZero:...[24]            db          91h                                     
<A NAME="0099"></A>   |_ROM.PageZero:...[25]            db          83h                                     
<A NAME="009a"></A>   |_ROM.PageZero:...[26]            db          B5h                                     
<A NAME="009b"></A>   |_ROM.PageZero:...[27]            db          A7h                                     
<A NAME="009c"></A>   |_ROM.PageZero:...[28]            db          D9h                                     
<A NAME="009d"></A>   |_ROM.PageZero:...[29]            db          CBh                                     
<A NAME="009e"></A>   |_ROM.PageZero:...[30]            db          FDh                                     
<A NAME="009f"></A>   |_ROM.PageZero:...[31]            db          EFh                                     
<A NAME="00a0"></A>                            CRCTabLo:                     ;XREF[2,0]:   <A HREF="#054f">054f</A>,<A HREF="#0563">0563</A>
ROM.PageZero:...002142638...    db[32]                                              
<A NAME="00a0"></A>   |_ROM.PageZero:...[0]             db          0h                                      
<A NAME="00a1"></A>   |_ROM.PageZero:...[1]             db          21h                                     
<A NAME="00a2"></A>   |_ROM.PageZero:...[2]             db          42h                                     
<A NAME="00a3"></A>   |_ROM.PageZero:...[3]             db          63h                                     
<A NAME="00a4"></A>   |_ROM.PageZero:...[4]             db          84h                                     
<A NAME="00a5"></A>   |_ROM.PageZero:...[5]             db          A5h                                     
<A NAME="00a6"></A>   |_ROM.PageZero:...[6]             db          C6h                                     
<A NAME="00a7"></A>   |_ROM.PageZero:...[7]             db          E7h                                     
<A NAME="00a8"></A>   |_ROM.PageZero:...[8]             db          8h                                      
<A NAME="00a9"></A>   |_ROM.PageZero:...[9]             db          29h                                     
<A NAME="00aa"></A>   |_ROM.PageZero:...[10]            db          4Ah                                     
<A NAME="00ab"></A>   |_ROM.PageZero:...[11]            db          6Bh                                     
<A NAME="00ac"></A>   |_ROM.PageZero:...[12]            db          8Ch                                     
<A NAME="00ad"></A>   |_ROM.PageZero:...[13]            db          ADh                                     
<A NAME="00ae"></A>   |_ROM.PageZero:...[14]            db          CEh                                     
<A NAME="00af"></A>   |_ROM.PageZero:...[15]            db          EFh                                     
<A NAME="00b0"></A>   |_ROM.PageZero:...[16]            db          0h                                      
<A NAME="00b1"></A>   |_ROM.PageZero:...[17]            db          31h                                     
<A NAME="00b2"></A>   |_ROM.PageZero:...[18]            db          62h                                     
<A NAME="00b3"></A>   |_ROM.PageZero:...[19]            db          53h                                     
<A NAME="00b4"></A>   |_ROM.PageZero:...[20]            db          C4h                                     
<A NAME="00b5"></A>   |_ROM.PageZero:...[21]            db          F5h                                     
<A NAME="00b6"></A>   |_ROM.PageZero:...[22]            db          A6h                                     
<A NAME="00b7"></A>   |_ROM.PageZero:...[23]            db          97h                                     
<A NAME="00b8"></A>   |_ROM.PageZero:...[24]            db          88h                                     
<A NAME="00b9"></A>   |_ROM.PageZero:...[25]            db          B9h                                     
<A NAME="00ba"></A>   |_ROM.PageZero:...[26]            db          EAh                                     
<A NAME="00bb"></A>   |_ROM.PageZero:...[27]            db          DBh                                     
<A NAME="00bc"></A>   |_ROM.PageZero:...[28]            db          4Ch                                     
<A NAME="00bd"></A>   |_ROM.PageZero:...[29]            db          7Dh                                     
<A NAME="00be"></A>   |_ROM.PageZero:...[30]            db          2Eh                                     
<A NAME="00bf"></A>   |_ROM.PageZero:...[31]            db          1Fh                                     
<A NAME="00c0"></A>                            InterEscapeDelay:             ;XREF[1,0]:   <A HREF="#00db">00db</A>
ROM.PageZero:...04              ??          04h                                     ;delay between two 10h characters in ...
<A NAME="00c1"></A>                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;Wait for 11 loops, then read from UART
                            ;byte UartReadWithDelay(void)
                                                          ;XREF[3,0]:   <A HREF="#0694">0694</A>,<A HREF="#06a4">06a4</A>,<A HREF="#0738">0738</A>
ROM.PageZero:...a60b            LDA         #0xb                                    ;Wait for 11 loops, then read from UART
<A NAME="00c3"></A>                            LAB_00c3:                     ;XREF[1,0]:   <A HREF="#00c4">00c4</A>
ROM.PageZero:...4a              DECA                                                
<A NAME="00c4"></A>ROM.PageZero:...2afd            BPL         <A HREF="#00c3">LAB_00c3</A>                                
<A NAME="00c6"></A>ROM.PageZero:...2005            BRA         <A HREF="#00cd">LAB_00cd</A>                                
<A NAME="00c8"></A>                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;Read from UART
                            ;undefined UartRead()
                                                          ;XREF[7,0]:   <A HREF="#056d">056d</A>,<A HREF="#05c2">05c2</A>,<A HREF="#05d9">05d9</A>,<A HREF="#05dd">05dd</A>,<A HREF="#0604">0604</A>,<A HREF="#0621">0621</A>,<A HREF="#0648">0648</A>
ROM.PageZero:...3f04            CLR         <A HREF="#0004">SFR:DDRA</A>                                ;Port A (data bus) all inputs
<A NAME="00ca"></A>                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined uartReadToBus()
                                                          ;XREF[3,0]:   <A HREF="#00ca">00ca</A>,<A HREF="#0573">0573</A>,<A HREF="#064c">064c</A>
ROM.PageZero:...0102fd          BRCLR       PC0_UART_DR,<A HREF="#0002">SFR:PORTC</A>,<A HREF="#00ca">uartReadToBus</A>     ;Wait until PC0 (UART DR) = 1
<A NAME="00cd"></A>                            LAB_00cd:                     ;XREF[1,0]:   <A HREF="#00c6">00c6</A>
ROM.PageZero:...1701            BCLR        PB3_UART_nDRR_RRD,<A HREF="#0001">SFR:PORTB</A>             ;Strobe UART /DRR and RRD low
                                                                                    ;  -> connect rxreg, reset DR line
<A NAME="00cf"></A>ROM.PageZero:...b600            LDA         <A HREF="#0000">SFR:PORTA</A>                               ;Get byte from UART
<A NAME="00d1"></A>ROM.PageZero:...1601            BSET        PB3_UART_nDRR_RRD,<A HREF="#0001">SFR:PORTB</A>             ;Release /DRR and RRD
                                                                                    ;  -> rxreg Hi-Z, release DR-reset
<A NAME="00d3"></A>ROM.PageZero:...81              RTS                                                 
<A NAME="00d4"></A>                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;void UartSendXWithEscChk(byte val)
          <A NAME="UartSendXWithEscChk_val"></A>;val           byte                 A                      
                                                          ;XREF[1,0]:   <A HREF="#04e5">04e5</A>
ROM.PageZero:...f6              LDA         X                                       
<A NAME="00d5"></A>                            ;************************************************************************************************
                            ;*  Check if character is 0x10.                                                                 *
                            ;*    If it is, escape it by sending 0x10 0x10.                                                 *
                            ;************************************************************************************************
                            ;undefined UartSendAWithEscChk()
                                                          ;XREF[1,0]:   <A HREF="#0636">0636</A>
ROM.PageZero:...a110            CMP         #0x10                                   
<A NAME="00d7"></A>ROM.PageZero:...261a            BNE         <A HREF="#00f3">LAB_00f3</A>                                
<A NAME="00d9"></A>ROM.PageZero:...ad07            BSR         <A HREF="#00e2">UartSendA</A>                               ;void UartSendA(byte val)
<A NAME="00db"></A>ROM.PageZero:...b6c0            LDA         <A HREF="#00c0">InterEscapeDelay</A>                        ;delay between two 10h characters in ...
<A NAME="00dd"></A>                            LAB_00dd:                     ;XREF[1,0]:   <A HREF="#00de">00de</A>
ROM.PageZero:...4a              DECA                                                
<A NAME="00de"></A>ROM.PageZero:...26fd            BNE         <A HREF="#00dd">LAB_00dd</A>                                
<A NAME="00e0"></A>                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;Send 0x10 escape character
                            ;undefined UartSendEscape()
                                                          ;XREF[1,0]:   <A HREF="#06c5">06c5</A>
ROM.PageZero:...a610            LDA         #0x10                                   ;Send 0x10 escape character
<A NAME="00e2"></A>                            ;************************************************************************************************
                            ;*                           UART: Transmit character in "A" register                           *
                            ;************************************************************************************************
                            ;void UartSendA(byte val)
          <A NAME="UartSendA_val"></A>;val           byte                 A                      
                                                          ;XREF[6,0]:   <A HREF="#00d9">00d9</A>,<A HREF="#00f5">00f5</A>,<A HREF="#056b">056b</A>,<A HREF="#0685">0685</A>,<A HREF="#0690">0690</A>,<A HREF="#06ce">06ce</A>
ROM.PageZero:...b700            STA         <A HREF="#0000">SFR:PORTA</A>                               ;I/O port A
<A NAME="00e4"></A>                            ;************************************************************************************************
                            ;*                      UART: Transmit the data currently on the UART bus                       *
                            ;************************************************************************************************
                            ;void UartSendDataOnBus(void)
                                                          ;XREF[2,0]:   <A HREF="#0519">0519</A>,<A HREF="#0527">0527</A>
ROM.PageZero:...b668            LDA         <A HREF="#0068">RAM:uartTxCharDelay</A>                     ;UART inter-character delay
<A NAME="00e6"></A>ROM.PageZero:...2703            BEQ         <A HREF="#00eb">no_delay</A>                                
<A NAME="00e8"></A>                            delay_loop:                   ;XREF[1,0]:   <A HREF="#00e9">00e9</A>
ROM.PageZero:...4a              DECA                                                ;wait for inter-character delay time
<A NAME="00e9"></A>ROM.PageZero:...26fd            BNE         <A HREF="#00e8">delay_loop</A>                              
<A NAME="00eb"></A>                            no_delay:                     ;XREF[1,0]:   <A HREF="#00e6">00e6</A>
ROM.PageZero:...1c01            BSET        PB6_UART_THRL,<A HREF="#0001">SFR:PORTB</A>                 ;transmit holding register load
<A NAME="00ed"></A>                            waitTxDone:                   ;XREF[1,0]:   <A HREF="#00ed">00ed</A>
ROM.PageZero:...0302fd          BRCLR       PC1_UART_THRE,<A HREF="#0002">SFR:PORTC</A>,<A HREF="#00ed">waitTxDone</A>      ;wait for transmit done
<A NAME="00f0"></A>ROM.PageZero:...1d01            BCLR        PB6_UART_THRL,<A HREF="#0001">SFR:PORTB</A>                 ;I/O port B
<A NAME="00f2"></A>ROM.PageZero:...81              RTS                                                 
<A NAME="00f3"></A>                            LAB_00f3:                     ;XREF[1,0]:   <A HREF="#00d7">00d7</A>
ROM.PageZero:...2000            BRA         <A HREF="#00f5">LAB_00f5</A>                                
<A NAME="00f5"></A>                            LAB_00f5:                     ;XREF[1,0]:   <A HREF="#00f3">00f3</A>
ROM.PageZero:...20eb            BRA         <A HREF="#00e2">UartSendA</A>                               ;void UartSendA(byte val)
<A NAME="00f7"></A>ROM.PageZero:...00              undefined1  00h                                     
<A NAME="00f8"></A>ROM.PageZero:...00              ??          00h                                     
<A NAME="00f9"></A>ROM.PageZero:...00              ??          00h                                     
<A NAME="00fa"></A>ROM.PageZero:...00              ??          00h                                     
<A NAME="00fb"></A>ROM.PageZero:...00              ??          00h                                     
<A NAME="00fc"></A>ROM.PageZero:...00              ??          00h                                     
<A NAME="00fd"></A>ROM.PageZero:...00              ??          00h                                     
<A NAME="00fe"></A>ROM.PageZero:...00              ??          00h                                     
<A NAME="00ff"></A>ROM.PageZero:...00              ??          00h                                     
<A NAME="0100"></A>                            ;************************************************************************************************
                            ;*  USER ROM AREA                                                                               *
                            ;*                                                                                              *
                            ;*  Starts with filler bytes                                                                    *
                            ;************************************************************************************************
ROM.User:0100   000000000...    ??[704]                                             
<A NAME="0100"></A>   |_ROM.User:0100   [0]             ??          00h                                     
<A NAME="0101"></A>   |_ROM.User:0101   [1]             ??          00h                                     
<A NAME="0102"></A>   |_ROM.User:0102   [2]             ??          00h                                     
<A NAME="0103"></A>   |_ROM.User:0103   [3]             ??          00h                                     
<A NAME="0104"></A>   |_ROM.User:0104   [4]             ??          00h                                     
<A NAME="0105"></A>   |_ROM.User:0105   [5]             ??          00h                                     
<A NAME="0106"></A>   |_ROM.User:0106   [6]             ??          00h                                     
<A NAME="0107"></A>   |_ROM.User:0107   [7]             ??          00h                                     
<A NAME="0108"></A>   |_ROM.User:0108   [8]             ??          00h                                     
<A NAME="0109"></A>   |_ROM.User:0109   [9]             ??          00h                                     
<A NAME="010a"></A>   |_ROM.User:010a   [10]            ??          00h                                     
<A NAME="010b"></A>   |_ROM.User:010b   [11]            ??          00h                                     
<A NAME="010c"></A>   |_ROM.User:010c   [12]            ??          00h                                     
<A NAME="010d"></A>   |_ROM.User:010d   [13]            ??          00h                                     
<A NAME="010e"></A>   |_ROM.User:010e   [14]            ??          00h                                     
<A NAME="010f"></A>   |_ROM.User:010f   [15]            ??          00h                                     
<A NAME="0110"></A>   |_ROM.User:0110   [16]            ??          00h                                     
<A NAME="0111"></A>   |_ROM.User:0111   [17]            ??          00h                                     
<A NAME="0112"></A>   |_ROM.User:0112   [18]            ??          00h                                     
<A NAME="0113"></A>   |_ROM.User:0113   [19]            ??          00h                                     
<A NAME="0114"></A>   |_ROM.User:0114   [20]            ??          00h                                     
<A NAME="0115"></A>   |_ROM.User:0115   [21]            ??          00h                                     
<A NAME="0116"></A>   |_ROM.User:0116   [22]            ??          00h                                     
<A NAME="0117"></A>   |_ROM.User:0117   [23]            ??          00h                                     
<A NAME="0118"></A>   |_ROM.User:0118   [24]            ??          00h                                     
<A NAME="0119"></A>   |_ROM.User:0119   [25]            ??          00h                                     
<A NAME="011a"></A>   |_ROM.User:011a   [26]            ??          00h                                     
<A NAME="011b"></A>   |_ROM.User:011b   [27]            ??          00h                                     
<A NAME="011c"></A>   |_ROM.User:011c   [28]            ??          00h                                     
<A NAME="011d"></A>   |_ROM.User:011d   [29]            ??          00h                                     
<A NAME="011e"></A>   |_ROM.User:011e   [30]            ??          00h                                     
<A NAME="011f"></A>   |_ROM.User:011f   [31]            ??          00h                                     
<A NAME="0120"></A>   |_ROM.User:0120   [32]            ??          00h                                     
<A NAME="0121"></A>   |_ROM.User:0121   [33]            ??          00h                                     
<A NAME="0122"></A>   |_ROM.User:0122   [34]            ??          00h                                     
<A NAME="0123"></A>   |_ROM.User:0123   [35]            ??          00h                                     
<A NAME="0124"></A>   |_ROM.User:0124   [36]            ??          00h                                     
<A NAME="0125"></A>   |_ROM.User:0125   [37]            ??          00h                                     
<A NAME="0126"></A>   |_ROM.User:0126   [38]            ??          00h                                     
<A NAME="0127"></A>   |_ROM.User:0127   [39]            ??          00h                                     
<A NAME="0128"></A>   |_ROM.User:0128   [40]            ??          00h                                     
<A NAME="0129"></A>   |_ROM.User:0129   [41]            ??          00h                                     
<A NAME="012a"></A>   |_ROM.User:012a   [42]            ??          00h                                     
<A NAME="012b"></A>   |_ROM.User:012b   [43]            ??          00h                                     
<A NAME="012c"></A>   |_ROM.User:012c   [44]            ??          00h                                     
<A NAME="012d"></A>   |_ROM.User:012d   [45]            ??          00h                                     
<A NAME="012e"></A>   |_ROM.User:012e   [46]            ??          00h                                     
<A NAME="012f"></A>   |_ROM.User:012f   [47]            ??          00h                                     
<A NAME="0130"></A>   |_ROM.User:0130   [48]            ??          00h                                     
<A NAME="0131"></A>   |_ROM.User:0131   [49]            ??          00h                                     
<A NAME="0132"></A>   |_ROM.User:0132   [50]            ??          00h                                     
<A NAME="0133"></A>   |_ROM.User:0133   [51]            ??          00h                                     
<A NAME="0134"></A>   |_ROM.User:0134   [52]            ??          00h                                     
<A NAME="0135"></A>   |_ROM.User:0135   [53]            ??          00h                                     
<A NAME="0136"></A>   |_ROM.User:0136   [54]            ??          00h                                     
<A NAME="0137"></A>   |_ROM.User:0137   [55]            ??          00h                                     
<A NAME="0138"></A>   |_ROM.User:0138   [56]            ??          00h                                     
<A NAME="0139"></A>   |_ROM.User:0139   [57]            ??          00h                                     
<A NAME="013a"></A>   |_ROM.User:013a   [58]            ??          00h                                     
<A NAME="013b"></A>   |_ROM.User:013b   [59]            ??          00h                                     
<A NAME="013c"></A>   |_ROM.User:013c   [60]            ??          00h                                     
<A NAME="013d"></A>   |_ROM.User:013d   [61]            ??          00h                                     
<A NAME="013e"></A>   |_ROM.User:013e   [62]            ??          00h                                     
<A NAME="013f"></A>   |_ROM.User:013f   [63]            ??          00h                                     
<A NAME="0140"></A>   |_ROM.User:0140   [64]            ??          00h                                     
<A NAME="0141"></A>   |_ROM.User:0141   [65]            ??          00h                                     
<A NAME="0142"></A>   |_ROM.User:0142   [66]            ??          00h                                     
<A NAME="0143"></A>   |_ROM.User:0143   [67]            ??          00h                                     
<A NAME="0144"></A>   |_ROM.User:0144   [68]            ??          00h                                     
<A NAME="0145"></A>   |_ROM.User:0145   [69]            ??          00h                                     
<A NAME="0146"></A>   |_ROM.User:0146   [70]            ??          00h                                     
<A NAME="0147"></A>   |_ROM.User:0147   [71]            ??          00h                                     
<A NAME="0148"></A>   |_ROM.User:0148   [72]            ??          00h                                     
<A NAME="0149"></A>   |_ROM.User:0149   [73]            ??          00h                                     
<A NAME="014a"></A>   |_ROM.User:014a   [74]            ??          00h                                     
<A NAME="014b"></A>   |_ROM.User:014b   [75]            ??          00h                                     
<A NAME="014c"></A>   |_ROM.User:014c   [76]            ??          00h                                     
<A NAME="014d"></A>   |_ROM.User:014d   [77]            ??          00h                                     
<A NAME="014e"></A>   |_ROM.User:014e   [78]            ??          00h                                     
<A NAME="014f"></A>   |_ROM.User:014f   [79]            ??          00h                                     
<A NAME="0150"></A>   |_ROM.User:0150   [80]            ??          00h                                     
<A NAME="0151"></A>   |_ROM.User:0151   [81]            ??          00h                                     
<A NAME="0152"></A>   |_ROM.User:0152   [82]            ??          00h                                     
<A NAME="0153"></A>   |_ROM.User:0153   [83]            ??          00h                                     
<A NAME="0154"></A>   |_ROM.User:0154   [84]            ??          00h                                     
<A NAME="0155"></A>   |_ROM.User:0155   [85]            ??          00h                                     
<A NAME="0156"></A>   |_ROM.User:0156   [86]            ??          00h                                     
<A NAME="0157"></A>   |_ROM.User:0157   [87]            ??          00h                                     
<A NAME="0158"></A>   |_ROM.User:0158   [88]            ??          00h                                     
<A NAME="0159"></A>   |_ROM.User:0159   [89]            ??          00h                                     
<A NAME="015a"></A>   |_ROM.User:015a   [90]            ??          00h                                     
<A NAME="015b"></A>   |_ROM.User:015b   [91]            ??          00h                                     
<A NAME="015c"></A>   |_ROM.User:015c   [92]            ??          00h                                     
<A NAME="015d"></A>   |_ROM.User:015d   [93]            ??          00h                                     
<A NAME="015e"></A>   |_ROM.User:015e   [94]            ??          00h                                     
<A NAME="015f"></A>   |_ROM.User:015f   [95]            ??          00h                                     
<A NAME="0160"></A>   |_ROM.User:0160   [96]            ??          00h                                     
<A NAME="0161"></A>   |_ROM.User:0161   [97]            ??          00h                                     
<A NAME="0162"></A>   |_ROM.User:0162   [98]            ??          00h                                     
<A NAME="0163"></A>   |_ROM.User:0163   [99]            ??          00h                                     
<A NAME="0164"></A>   |_ROM.User:0164   [100]           ??          00h                                     
<A NAME="0165"></A>   |_ROM.User:0165   [101]           ??          00h                                     
<A NAME="0166"></A>   |_ROM.User:0166   [102]           ??          00h                                     
<A NAME="0167"></A>   |_ROM.User:0167   [103]           ??          00h                                     
<A NAME="0168"></A>   |_ROM.User:0168   [104]           ??          00h                                     
<A NAME="0169"></A>   |_ROM.User:0169   [105]           ??          00h                                     
<A NAME="016a"></A>   |_ROM.User:016a   [106]           ??          00h                                     
<A NAME="016b"></A>   |_ROM.User:016b   [107]           ??          00h                                     
<A NAME="016c"></A>   |_ROM.User:016c   [108]           ??          00h                                     
<A NAME="016d"></A>   |_ROM.User:016d   [109]           ??          00h                                     
<A NAME="016e"></A>   |_ROM.User:016e   [110]           ??          00h                                     
<A NAME="016f"></A>   |_ROM.User:016f   [111]           ??          00h                                     
<A NAME="0170"></A>   |_ROM.User:0170   [112]           ??          00h                                     
<A NAME="0171"></A>   |_ROM.User:0171   [113]           ??          00h                                     
<A NAME="0172"></A>   |_ROM.User:0172   [114]           ??          00h                                     
<A NAME="0173"></A>   |_ROM.User:0173   [115]           ??          00h                                     
<A NAME="0174"></A>   |_ROM.User:0174   [116]           ??          00h                                     
<A NAME="0175"></A>   |_ROM.User:0175   [117]           ??          00h                                     
<A NAME="0176"></A>   |_ROM.User:0176   [118]           ??          00h                                     
<A NAME="0177"></A>   |_ROM.User:0177   [119]           ??          00h                                     
<A NAME="0178"></A>   |_ROM.User:0178   [120]           ??          00h                                     
<A NAME="0179"></A>   |_ROM.User:0179   [121]           ??          00h                                     
<A NAME="017a"></A>   |_ROM.User:017a   [122]           ??          00h                                     
<A NAME="017b"></A>   |_ROM.User:017b   [123]           ??          00h                                     
<A NAME="017c"></A>   |_ROM.User:017c   [124]           ??          00h                                     
<A NAME="017d"></A>   |_ROM.User:017d   [125]           ??          00h                                     
<A NAME="017e"></A>   |_ROM.User:017e   [126]           ??          00h                                     
<A NAME="017f"></A>   |_ROM.User:017f   [127]           ??          00h                                     
<A NAME="0180"></A>   |_ROM.User:0180   [128]           ??          00h                                     
<A NAME="0181"></A>   |_ROM.User:0181   [129]           ??          00h                                     
<A NAME="0182"></A>   |_ROM.User:0182   [130]           ??          00h                                     
<A NAME="0183"></A>   |_ROM.User:0183   [131]           ??          00h                                     
<A NAME="0184"></A>   |_ROM.User:0184   [132]           ??          00h                                     
<A NAME="0185"></A>   |_ROM.User:0185   [133]           ??          00h                                     
<A NAME="0186"></A>   |_ROM.User:0186   [134]           ??          00h                                     
<A NAME="0187"></A>   |_ROM.User:0187   [135]           ??          00h                                     
<A NAME="0188"></A>   |_ROM.User:0188   [136]           ??          00h                                     
<A NAME="0189"></A>   |_ROM.User:0189   [137]           ??          00h                                     
<A NAME="018a"></A>   |_ROM.User:018a   [138]           ??          00h                                     
<A NAME="018b"></A>   |_ROM.User:018b   [139]           ??          00h                                     
<A NAME="018c"></A>   |_ROM.User:018c   [140]           ??          00h                                     
<A NAME="018d"></A>   |_ROM.User:018d   [141]           ??          00h                                     
<A NAME="018e"></A>   |_ROM.User:018e   [142]           ??          00h                                     
<A NAME="018f"></A>   |_ROM.User:018f   [143]           ??          00h                                     
<A NAME="0190"></A>   |_ROM.User:0190   [144]           ??          00h                                     
<A NAME="0191"></A>   |_ROM.User:0191   [145]           ??          00h                                     
<A NAME="0192"></A>   |_ROM.User:0192   [146]           ??          00h                                     
<A NAME="0193"></A>   |_ROM.User:0193   [147]           ??          00h                                     
<A NAME="0194"></A>   |_ROM.User:0194   [148]           ??          00h                                     
<A NAME="0195"></A>   |_ROM.User:0195   [149]           ??          00h                                     
<A NAME="0196"></A>   |_ROM.User:0196   [150]           ??          00h                                     
<A NAME="0197"></A>   |_ROM.User:0197   [151]           ??          00h                                     
<A NAME="0198"></A>   |_ROM.User:0198   [152]           ??          00h                                     
<A NAME="0199"></A>   |_ROM.User:0199   [153]           ??          00h                                     
<A NAME="019a"></A>   |_ROM.User:019a   [154]           ??          00h                                     
<A NAME="019b"></A>   |_ROM.User:019b   [155]           ??          00h                                     
<A NAME="019c"></A>   |_ROM.User:019c   [156]           ??          00h                                     
<A NAME="019d"></A>   |_ROM.User:019d   [157]           ??          00h                                     
<A NAME="019e"></A>   |_ROM.User:019e   [158]           ??          00h                                     
<A NAME="019f"></A>   |_ROM.User:019f   [159]           ??          00h                                     
<A NAME="01a0"></A>   |_ROM.User:01a0   [160]           ??          00h                                     
<A NAME="01a1"></A>   |_ROM.User:01a1   [161]           ??          00h                                     
<A NAME="01a2"></A>   |_ROM.User:01a2   [162]           ??          00h                                     
<A NAME="01a3"></A>   |_ROM.User:01a3   [163]           ??          00h                                     
<A NAME="01a4"></A>   |_ROM.User:01a4   [164]           ??          00h                                     
<A NAME="01a5"></A>   |_ROM.User:01a5   [165]           ??          00h                                     
<A NAME="01a6"></A>   |_ROM.User:01a6   [166]           ??          00h                                     
<A NAME="01a7"></A>   |_ROM.User:01a7   [167]           ??          00h                                     
<A NAME="01a8"></A>   |_ROM.User:01a8   [168]           ??          00h                                     
<A NAME="01a9"></A>   |_ROM.User:01a9   [169]           ??          00h                                     
<A NAME="01aa"></A>   |_ROM.User:01aa   [170]           ??          00h                                     
<A NAME="01ab"></A>   |_ROM.User:01ab   [171]           ??          00h                                     
<A NAME="01ac"></A>   |_ROM.User:01ac   [172]           ??          00h                                     
<A NAME="01ad"></A>   |_ROM.User:01ad   [173]           ??          00h                                     
<A NAME="01ae"></A>   |_ROM.User:01ae   [174]           ??          00h                                     
<A NAME="01af"></A>   |_ROM.User:01af   [175]           ??          00h                                     
<A NAME="01b0"></A>   |_ROM.User:01b0   [176]           ??          00h                                     
<A NAME="01b1"></A>   |_ROM.User:01b1   [177]           ??          00h                                     
<A NAME="01b2"></A>   |_ROM.User:01b2   [178]           ??          00h                                     
<A NAME="01b3"></A>   |_ROM.User:01b3   [179]           ??          00h                                     
<A NAME="01b4"></A>   |_ROM.User:01b4   [180]           ??          00h                                     
<A NAME="01b5"></A>   |_ROM.User:01b5   [181]           ??          00h                                     
<A NAME="01b6"></A>   |_ROM.User:01b6   [182]           ??          00h                                     
<A NAME="01b7"></A>   |_ROM.User:01b7   [183]           ??          00h                                     
<A NAME="01b8"></A>   |_ROM.User:01b8   [184]           ??          00h                                     
<A NAME="01b9"></A>   |_ROM.User:01b9   [185]           ??          00h                                     
<A NAME="01ba"></A>   |_ROM.User:01ba   [186]           ??          00h                                     
<A NAME="01bb"></A>   |_ROM.User:01bb   [187]           ??          00h                                     
<A NAME="01bc"></A>   |_ROM.User:01bc   [188]           ??          00h                                     
<A NAME="01bd"></A>   |_ROM.User:01bd   [189]           ??          00h                                     
<A NAME="01be"></A>   |_ROM.User:01be   [190]           ??          00h                                     
<A NAME="01bf"></A>   |_ROM.User:01bf   [191]           ??          00h                                     
<A NAME="01c0"></A>   |_ROM.User:01c0   [192]           ??          00h                                     
<A NAME="01c1"></A>   |_ROM.User:01c1   [193]           ??          00h                                     
<A NAME="01c2"></A>   |_ROM.User:01c2   [194]           ??          00h                                     
<A NAME="01c3"></A>   |_ROM.User:01c3   [195]           ??          00h                                     
<A NAME="01c4"></A>   |_ROM.User:01c4   [196]           ??          00h                                     
<A NAME="01c5"></A>   |_ROM.User:01c5   [197]           ??          00h                                     
<A NAME="01c6"></A>   |_ROM.User:01c6   [198]           ??          00h                                     
<A NAME="01c7"></A>   |_ROM.User:01c7   [199]           ??          00h                                     
<A NAME="01c8"></A>   |_ROM.User:01c8   [200]           ??          00h                                     
<A NAME="01c9"></A>   |_ROM.User:01c9   [201]           ??          00h                                     
<A NAME="01ca"></A>   |_ROM.User:01ca   [202]           ??          00h                                     
<A NAME="01cb"></A>   |_ROM.User:01cb   [203]           ??          00h                                     
<A NAME="01cc"></A>   |_ROM.User:01cc   [204]           ??          00h                                     
<A NAME="01cd"></A>   |_ROM.User:01cd   [205]           ??          00h                                     
<A NAME="01ce"></A>   |_ROM.User:01ce   [206]           ??          00h                                     
<A NAME="01cf"></A>   |_ROM.User:01cf   [207]           ??          00h                                     
<A NAME="01d0"></A>   |_ROM.User:01d0   [208]           ??          00h                                     
<A NAME="01d1"></A>   |_ROM.User:01d1   [209]           ??          00h                                     
<A NAME="01d2"></A>   |_ROM.User:01d2   [210]           ??          00h                                     
<A NAME="01d3"></A>   |_ROM.User:01d3   [211]           ??          00h                                     
<A NAME="01d4"></A>   |_ROM.User:01d4   [212]           ??          00h                                     
<A NAME="01d5"></A>   |_ROM.User:01d5   [213]           ??          00h                                     
<A NAME="01d6"></A>   |_ROM.User:01d6   [214]           ??          00h                                     
<A NAME="01d7"></A>   |_ROM.User:01d7   [215]           ??          00h                                     
<A NAME="01d8"></A>   |_ROM.User:01d8   [216]           ??          00h                                     
<A NAME="01d9"></A>   |_ROM.User:01d9   [217]           ??          00h                                     
<A NAME="01da"></A>   |_ROM.User:01da   [218]           ??          00h                                     
<A NAME="01db"></A>   |_ROM.User:01db   [219]           ??          00h                                     
<A NAME="01dc"></A>   |_ROM.User:01dc   [220]           ??          00h                                     
<A NAME="01dd"></A>   |_ROM.User:01dd   [221]           ??          00h                                     
<A NAME="01de"></A>   |_ROM.User:01de   [222]           ??          00h                                     
<A NAME="01df"></A>   |_ROM.User:01df   [223]           ??          00h                                     
<A NAME="01e0"></A>   |_ROM.User:01e0   [224]           ??          00h                                     
<A NAME="01e1"></A>   |_ROM.User:01e1   [225]           ??          00h                                     
<A NAME="01e2"></A>   |_ROM.User:01e2   [226]           ??          00h                                     
<A NAME="01e3"></A>   |_ROM.User:01e3   [227]           ??          00h                                     
<A NAME="01e4"></A>   |_ROM.User:01e4   [228]           ??          00h                                     
<A NAME="01e5"></A>   |_ROM.User:01e5   [229]           ??          00h                                     
<A NAME="01e6"></A>   |_ROM.User:01e6   [230]           ??          00h                                     
<A NAME="01e7"></A>   |_ROM.User:01e7   [231]           ??          00h                                     
<A NAME="01e8"></A>   |_ROM.User:01e8   [232]           ??          00h                                     
<A NAME="01e9"></A>   |_ROM.User:01e9   [233]           ??          00h                                     
<A NAME="01ea"></A>   |_ROM.User:01ea   [234]           ??          00h                                     
<A NAME="01eb"></A>   |_ROM.User:01eb   [235]           ??          00h                                     
<A NAME="01ec"></A>   |_ROM.User:01ec   [236]           ??          00h                                     
<A NAME="01ed"></A>   |_ROM.User:01ed   [237]           ??          00h                                     
<A NAME="01ee"></A>   |_ROM.User:01ee   [238]           ??          00h                                     
<A NAME="01ef"></A>   |_ROM.User:01ef   [239]           ??          00h                                     
<A NAME="01f0"></A>   |_ROM.User:01f0   [240]           ??          00h                                     
<A NAME="01f1"></A>   |_ROM.User:01f1   [241]           ??          00h                                     
<A NAME="01f2"></A>   |_ROM.User:01f2   [242]           ??          00h                                     
<A NAME="01f3"></A>   |_ROM.User:01f3   [243]           ??          00h                                     
<A NAME="01f4"></A>   |_ROM.User:01f4   [244]           ??          00h                                     
<A NAME="01f5"></A>   |_ROM.User:01f5   [245]           ??          00h                                     
<A NAME="01f6"></A>   |_ROM.User:01f6   [246]           ??          00h                                     
<A NAME="01f7"></A>   |_ROM.User:01f7   [247]           ??          00h                                     
<A NAME="01f8"></A>   |_ROM.User:01f8   [248]           ??          00h                                     
<A NAME="01f9"></A>   |_ROM.User:01f9   [249]           ??          00h                                     
<A NAME="01fa"></A>   |_ROM.User:01fa   [250]           ??          00h                                     
<A NAME="01fb"></A>   |_ROM.User:01fb   [251]           ??          00h                                     
<A NAME="01fc"></A>   |_ROM.User:01fc   [252]           ??          00h                                     
<A NAME="01fd"></A>   |_ROM.User:01fd   [253]           ??          00h                                     
<A NAME="01fe"></A>   |_ROM.User:01fe   [254]           ??          00h                                     
<A NAME="01ff"></A>   |_ROM.User:01ff   [255]           ??          00h                                     
<A NAME="0200"></A>   |_ROM.User:0200   [256]           ??          00h                                     
<A NAME="0201"></A>   |_ROM.User:0201   [257]           ??          00h                                     
<A NAME="0202"></A>   |_ROM.User:0202   [258]           ??          00h                                     
<A NAME="0203"></A>   |_ROM.User:0203   [259]           ??          00h                                     
<A NAME="0204"></A>   |_ROM.User:0204   [260]           ??          00h                                     
<A NAME="0205"></A>   |_ROM.User:0205   [261]           ??          00h                                     
<A NAME="0206"></A>   |_ROM.User:0206   [262]           ??          00h                                     
<A NAME="0207"></A>   |_ROM.User:0207   [263]           ??          00h                                     
<A NAME="0208"></A>   |_ROM.User:0208   [264]           ??          00h                                     
<A NAME="0209"></A>   |_ROM.User:0209   [265]           ??          00h                                     
<A NAME="020a"></A>   |_ROM.User:020a   [266]           ??          00h                                     
<A NAME="020b"></A>   |_ROM.User:020b   [267]           ??          00h                                     
<A NAME="020c"></A>   |_ROM.User:020c   [268]           ??          00h                                     
<A NAME="020d"></A>   |_ROM.User:020d   [269]           ??          00h                                     
<A NAME="020e"></A>   |_ROM.User:020e   [270]           ??          00h                                     
<A NAME="020f"></A>   |_ROM.User:020f   [271]           ??          00h                                     
<A NAME="0210"></A>   |_ROM.User:0210   [272]           ??          00h                                     
<A NAME="0211"></A>   |_ROM.User:0211   [273]           ??          00h                                     
<A NAME="0212"></A>   |_ROM.User:0212   [274]           ??          00h                                     
<A NAME="0213"></A>   |_ROM.User:0213   [275]           ??          00h                                     
<A NAME="0214"></A>   |_ROM.User:0214   [276]           ??          00h                                     
<A NAME="0215"></A>   |_ROM.User:0215   [277]           ??          00h                                     
<A NAME="0216"></A>   |_ROM.User:0216   [278]           ??          00h                                     
<A NAME="0217"></A>   |_ROM.User:0217   [279]           ??          00h                                     
<A NAME="0218"></A>   |_ROM.User:0218   [280]           ??          00h                                     
<A NAME="0219"></A>   |_ROM.User:0219   [281]           ??          00h                                     
<A NAME="021a"></A>   |_ROM.User:021a   [282]           ??          00h                                     
<A NAME="021b"></A>   |_ROM.User:021b   [283]           ??          00h                                     
<A NAME="021c"></A>   |_ROM.User:021c   [284]           ??          00h                                     
<A NAME="021d"></A>   |_ROM.User:021d   [285]           ??          00h                                     
<A NAME="021e"></A>   |_ROM.User:021e   [286]           ??          00h                                     
<A NAME="021f"></A>   |_ROM.User:021f   [287]           ??          00h                                     
<A NAME="0220"></A>   |_ROM.User:0220   [288]           ??          00h                                     
<A NAME="0221"></A>   |_ROM.User:0221   [289]           ??          00h                                     
<A NAME="0222"></A>   |_ROM.User:0222   [290]           ??          00h                                     
<A NAME="0223"></A>   |_ROM.User:0223   [291]           ??          00h                                     
<A NAME="0224"></A>   |_ROM.User:0224   [292]           ??          00h                                     
<A NAME="0225"></A>   |_ROM.User:0225   [293]           ??          00h                                     
<A NAME="0226"></A>   |_ROM.User:0226   [294]           ??          00h                                     
<A NAME="0227"></A>   |_ROM.User:0227   [295]           ??          00h                                     
<A NAME="0228"></A>   |_ROM.User:0228   [296]           ??          00h                                     
<A NAME="0229"></A>   |_ROM.User:0229   [297]           ??          00h                                     
<A NAME="022a"></A>   |_ROM.User:022a   [298]           ??          00h                                     
<A NAME="022b"></A>   |_ROM.User:022b   [299]           ??          00h                                     
<A NAME="022c"></A>   |_ROM.User:022c   [300]           ??          00h                                     
<A NAME="022d"></A>   |_ROM.User:022d   [301]           ??          00h                                     
<A NAME="022e"></A>   |_ROM.User:022e   [302]           ??          00h                                     
<A NAME="022f"></A>   |_ROM.User:022f   [303]           ??          00h                                     
<A NAME="0230"></A>   |_ROM.User:0230   [304]           ??          00h                                     
<A NAME="0231"></A>   |_ROM.User:0231   [305]           ??          00h                                     
<A NAME="0232"></A>   |_ROM.User:0232   [306]           ??          00h                                     
<A NAME="0233"></A>   |_ROM.User:0233   [307]           ??          00h                                     
<A NAME="0234"></A>   |_ROM.User:0234   [308]           ??          00h                                     
<A NAME="0235"></A>   |_ROM.User:0235   [309]           ??          00h                                     
<A NAME="0236"></A>   |_ROM.User:0236   [310]           ??          00h                                     
<A NAME="0237"></A>   |_ROM.User:0237   [311]           ??          00h                                     
<A NAME="0238"></A>   |_ROM.User:0238   [312]           ??          00h                                     
<A NAME="0239"></A>   |_ROM.User:0239   [313]           ??          00h                                     
<A NAME="023a"></A>   |_ROM.User:023a   [314]           ??          00h                                     
<A NAME="023b"></A>   |_ROM.User:023b   [315]           ??          00h                                     
<A NAME="023c"></A>   |_ROM.User:023c   [316]           ??          00h                                     
<A NAME="023d"></A>   |_ROM.User:023d   [317]           ??          00h                                     
<A NAME="023e"></A>   |_ROM.User:023e   [318]           ??          00h                                     
<A NAME="023f"></A>   |_ROM.User:023f   [319]           ??          00h                                     
<A NAME="0240"></A>   |_ROM.User:0240   [320]           ??          00h                                     
<A NAME="0241"></A>   |_ROM.User:0241   [321]           ??          00h                                     
<A NAME="0242"></A>   |_ROM.User:0242   [322]           ??          00h                                     
<A NAME="0243"></A>   |_ROM.User:0243   [323]           ??          00h                                     
<A NAME="0244"></A>   |_ROM.User:0244   [324]           ??          00h                                     
<A NAME="0245"></A>   |_ROM.User:0245   [325]           ??          00h                                     
<A NAME="0246"></A>   |_ROM.User:0246   [326]           ??          00h                                     
<A NAME="0247"></A>   |_ROM.User:0247   [327]           ??          00h                                     
<A NAME="0248"></A>   |_ROM.User:0248   [328]           ??          00h                                     
<A NAME="0249"></A>   |_ROM.User:0249   [329]           ??          00h                                     
<A NAME="024a"></A>   |_ROM.User:024a   [330]           ??          00h                                     
<A NAME="024b"></A>   |_ROM.User:024b   [331]           ??          00h                                     
<A NAME="024c"></A>   |_ROM.User:024c   [332]           ??          00h                                     
<A NAME="024d"></A>   |_ROM.User:024d   [333]           ??          00h                                     
<A NAME="024e"></A>   |_ROM.User:024e   [334]           ??          00h                                     
<A NAME="024f"></A>   |_ROM.User:024f   [335]           ??          00h                                     
<A NAME="0250"></A>   |_ROM.User:0250   [336]           ??          00h                                     
<A NAME="0251"></A>   |_ROM.User:0251   [337]           ??          00h                                     
<A NAME="0252"></A>   |_ROM.User:0252   [338]           ??          00h                                     
<A NAME="0253"></A>   |_ROM.User:0253   [339]           ??          00h                                     
<A NAME="0254"></A>   |_ROM.User:0254   [340]           ??          00h                                     
<A NAME="0255"></A>   |_ROM.User:0255   [341]           ??          00h                                     
<A NAME="0256"></A>   |_ROM.User:0256   [342]           ??          00h                                     
<A NAME="0257"></A>   |_ROM.User:0257   [343]           ??          00h                                     
<A NAME="0258"></A>   |_ROM.User:0258   [344]           ??          00h                                     
<A NAME="0259"></A>   |_ROM.User:0259   [345]           ??          00h                                     
<A NAME="025a"></A>   |_ROM.User:025a   [346]           ??          00h                                     
<A NAME="025b"></A>   |_ROM.User:025b   [347]           ??          00h                                     
<A NAME="025c"></A>   |_ROM.User:025c   [348]           ??          00h                                     
<A NAME="025d"></A>   |_ROM.User:025d   [349]           ??          00h                                     
<A NAME="025e"></A>   |_ROM.User:025e   [350]           ??          00h                                     
<A NAME="025f"></A>   |_ROM.User:025f   [351]           ??          00h                                     
<A NAME="0260"></A>   |_ROM.User:0260   [352]           ??          00h                                     
<A NAME="0261"></A>   |_ROM.User:0261   [353]           ??          00h                                     
<A NAME="0262"></A>   |_ROM.User:0262   [354]           ??          00h                                     
<A NAME="0263"></A>   |_ROM.User:0263   [355]           ??          00h                                     
<A NAME="0264"></A>   |_ROM.User:0264   [356]           ??          00h                                     
<A NAME="0265"></A>   |_ROM.User:0265   [357]           ??          00h                                     
<A NAME="0266"></A>   |_ROM.User:0266   [358]           ??          00h                                     
<A NAME="0267"></A>   |_ROM.User:0267   [359]           ??          00h                                     
<A NAME="0268"></A>   |_ROM.User:0268   [360]           ??          00h                                     
<A NAME="0269"></A>   |_ROM.User:0269   [361]           ??          00h                                     
<A NAME="026a"></A>   |_ROM.User:026a   [362]           ??          00h                                     
<A NAME="026b"></A>   |_ROM.User:026b   [363]           ??          00h                                     
<A NAME="026c"></A>   |_ROM.User:026c   [364]           ??          00h                                     
<A NAME="026d"></A>   |_ROM.User:026d   [365]           ??          00h                                     
<A NAME="026e"></A>   |_ROM.User:026e   [366]           ??          00h                                     
<A NAME="026f"></A>   |_ROM.User:026f   [367]           ??          00h                                     
<A NAME="0270"></A>   |_ROM.User:0270   [368]           ??          00h                                     
<A NAME="0271"></A>   |_ROM.User:0271   [369]           ??          00h                                     
<A NAME="0272"></A>   |_ROM.User:0272   [370]           ??          00h                                     
<A NAME="0273"></A>   |_ROM.User:0273   [371]           ??          00h                                     
<A NAME="0274"></A>   |_ROM.User:0274   [372]           ??          00h                                     
<A NAME="0275"></A>   |_ROM.User:0275   [373]           ??          00h                                     
<A NAME="0276"></A>   |_ROM.User:0276   [374]           ??          00h                                     
<A NAME="0277"></A>   |_ROM.User:0277   [375]           ??          00h                                     
<A NAME="0278"></A>   |_ROM.User:0278   [376]           ??          00h                                     
<A NAME="0279"></A>   |_ROM.User:0279   [377]           ??          00h                                     
<A NAME="027a"></A>   |_ROM.User:027a   [378]           ??          00h                                     
<A NAME="027b"></A>   |_ROM.User:027b   [379]           ??          00h                                     
<A NAME="027c"></A>   |_ROM.User:027c   [380]           ??          00h                                     
<A NAME="027d"></A>   |_ROM.User:027d   [381]           ??          00h                                     
<A NAME="027e"></A>   |_ROM.User:027e   [382]           ??          00h                                     
<A NAME="027f"></A>   |_ROM.User:027f   [383]           ??          00h                                     
<A NAME="0280"></A>   |_ROM.User:0280   [384]           ??          00h                                     
<A NAME="0281"></A>   |_ROM.User:0281   [385]           ??          00h                                     
<A NAME="0282"></A>   |_ROM.User:0282   [386]           ??          00h                                     
<A NAME="0283"></A>   |_ROM.User:0283   [387]           ??          00h                                     
<A NAME="0284"></A>   |_ROM.User:0284   [388]           ??          00h                                     
<A NAME="0285"></A>   |_ROM.User:0285   [389]           ??          00h                                     
<A NAME="0286"></A>   |_ROM.User:0286   [390]           ??          00h                                     
<A NAME="0287"></A>   |_ROM.User:0287   [391]           ??          00h                                     
<A NAME="0288"></A>   |_ROM.User:0288   [392]           ??          00h                                     
<A NAME="0289"></A>   |_ROM.User:0289   [393]           ??          00h                                     
<A NAME="028a"></A>   |_ROM.User:028a   [394]           ??          00h                                     
<A NAME="028b"></A>   |_ROM.User:028b   [395]           ??          00h                                     
<A NAME="028c"></A>   |_ROM.User:028c   [396]           ??          00h                                     
<A NAME="028d"></A>   |_ROM.User:028d   [397]           ??          00h                                     
<A NAME="028e"></A>   |_ROM.User:028e   [398]           ??          00h                                     
<A NAME="028f"></A>   |_ROM.User:028f   [399]           ??          00h                                     
<A NAME="0290"></A>   |_ROM.User:0290   [400]           ??          00h                                     
<A NAME="0291"></A>   |_ROM.User:0291   [401]           ??          00h                                     
<A NAME="0292"></A>   |_ROM.User:0292   [402]           ??          00h                                     
<A NAME="0293"></A>   |_ROM.User:0293   [403]           ??          00h                                     
<A NAME="0294"></A>   |_ROM.User:0294   [404]           ??          00h                                     
<A NAME="0295"></A>   |_ROM.User:0295   [405]           ??          00h                                     
<A NAME="0296"></A>   |_ROM.User:0296   [406]           ??          00h                                     
<A NAME="0297"></A>   |_ROM.User:0297   [407]           ??          00h                                     
<A NAME="0298"></A>   |_ROM.User:0298   [408]           ??          00h                                     
<A NAME="0299"></A>   |_ROM.User:0299   [409]           ??          00h                                     
<A NAME="029a"></A>   |_ROM.User:029a   [410]           ??          00h                                     
<A NAME="029b"></A>   |_ROM.User:029b   [411]           ??          00h                                     
<A NAME="029c"></A>   |_ROM.User:029c   [412]           ??          00h                                     
<A NAME="029d"></A>   |_ROM.User:029d   [413]           ??          00h                                     
<A NAME="029e"></A>   |_ROM.User:029e   [414]           ??          00h                                     
<A NAME="029f"></A>   |_ROM.User:029f   [415]           ??          00h                                     
<A NAME="02a0"></A>   |_ROM.User:02a0   [416]           ??          00h                                     
<A NAME="02a1"></A>   |_ROM.User:02a1   [417]           ??          00h                                     
<A NAME="02a2"></A>   |_ROM.User:02a2   [418]           ??          00h                                     
<A NAME="02a3"></A>   |_ROM.User:02a3   [419]           ??          00h                                     
<A NAME="02a4"></A>   |_ROM.User:02a4   [420]           ??          00h                                     
<A NAME="02a5"></A>   |_ROM.User:02a5   [421]           ??          00h                                     
<A NAME="02a6"></A>   |_ROM.User:02a6   [422]           ??          00h                                     
<A NAME="02a7"></A>   |_ROM.User:02a7   [423]           ??          00h                                     
<A NAME="02a8"></A>   |_ROM.User:02a8   [424]           ??          00h                                     
<A NAME="02a9"></A>   |_ROM.User:02a9   [425]           ??          00h                                     
<A NAME="02aa"></A>   |_ROM.User:02aa   [426]           ??          00h                                     
<A NAME="02ab"></A>   |_ROM.User:02ab   [427]           ??          00h                                     
<A NAME="02ac"></A>   |_ROM.User:02ac   [428]           ??          00h                                     
<A NAME="02ad"></A>   |_ROM.User:02ad   [429]           ??          00h                                     
<A NAME="02ae"></A>   |_ROM.User:02ae   [430]           ??          00h                                     
<A NAME="02af"></A>   |_ROM.User:02af   [431]           ??          00h                                     
<A NAME="02b0"></A>   |_ROM.User:02b0   [432]           ??          00h                                     
<A NAME="02b1"></A>   |_ROM.User:02b1   [433]           ??          00h                                     
<A NAME="02b2"></A>   |_ROM.User:02b2   [434]           ??          00h                                     
<A NAME="02b3"></A>   |_ROM.User:02b3   [435]           ??          00h                                     
<A NAME="02b4"></A>   |_ROM.User:02b4   [436]           ??          00h                                     
<A NAME="02b5"></A>   |_ROM.User:02b5   [437]           ??          00h                                     
<A NAME="02b6"></A>   |_ROM.User:02b6   [438]           ??          00h                                     
<A NAME="02b7"></A>   |_ROM.User:02b7   [439]           ??          00h                                     
<A NAME="02b8"></A>   |_ROM.User:02b8   [440]           ??          00h                                     
<A NAME="02b9"></A>   |_ROM.User:02b9   [441]           ??          00h                                     
<A NAME="02ba"></A>   |_ROM.User:02ba   [442]           ??          00h                                     
<A NAME="02bb"></A>   |_ROM.User:02bb   [443]           ??          00h                                     
<A NAME="02bc"></A>   |_ROM.User:02bc   [444]           ??          00h                                     
<A NAME="02bd"></A>   |_ROM.User:02bd   [445]           ??          00h                                     
<A NAME="02be"></A>   |_ROM.User:02be   [446]           ??          00h                                     
<A NAME="02bf"></A>   |_ROM.User:02bf   [447]           ??          00h                                     
<A NAME="02c0"></A>   |_ROM.User:02c0   [448]           ??          00h                                     
<A NAME="02c1"></A>   |_ROM.User:02c1   [449]           ??          00h                                     
<A NAME="02c2"></A>   |_ROM.User:02c2   [450]           ??          00h                                     
<A NAME="02c3"></A>   |_ROM.User:02c3   [451]           ??          00h                                     
<A NAME="02c4"></A>   |_ROM.User:02c4   [452]           ??          00h                                     
<A NAME="02c5"></A>   |_ROM.User:02c5   [453]           ??          00h                                     
<A NAME="02c6"></A>   |_ROM.User:02c6   [454]           ??          00h                                     
<A NAME="02c7"></A>   |_ROM.User:02c7   [455]           ??          00h                                     
<A NAME="02c8"></A>   |_ROM.User:02c8   [456]           ??          00h                                     
<A NAME="02c9"></A>   |_ROM.User:02c9   [457]           ??          00h                                     
<A NAME="02ca"></A>   |_ROM.User:02ca   [458]           ??          00h                                     
<A NAME="02cb"></A>   |_ROM.User:02cb   [459]           ??          00h                                     
<A NAME="02cc"></A>   |_ROM.User:02cc   [460]           ??          00h                                     
<A NAME="02cd"></A>   |_ROM.User:02cd   [461]           ??          00h                                     
<A NAME="02ce"></A>   |_ROM.User:02ce   [462]           ??          00h                                     
<A NAME="02cf"></A>   |_ROM.User:02cf   [463]           ??          00h                                     
<A NAME="02d0"></A>   |_ROM.User:02d0   [464]           ??          00h                                     
<A NAME="02d1"></A>   |_ROM.User:02d1   [465]           ??          00h                                     
<A NAME="02d2"></A>   |_ROM.User:02d2   [466]           ??          00h                                     
<A NAME="02d3"></A>   |_ROM.User:02d3   [467]           ??          00h                                     
<A NAME="02d4"></A>   |_ROM.User:02d4   [468]           ??          00h                                     
<A NAME="02d5"></A>   |_ROM.User:02d5   [469]           ??          00h                                     
<A NAME="02d6"></A>   |_ROM.User:02d6   [470]           ??          00h                                     
<A NAME="02d7"></A>   |_ROM.User:02d7   [471]           ??          00h                                     
<A NAME="02d8"></A>   |_ROM.User:02d8   [472]           ??          00h                                     
<A NAME="02d9"></A>   |_ROM.User:02d9   [473]           ??          00h                                     
<A NAME="02da"></A>   |_ROM.User:02da   [474]           ??          00h                                     
<A NAME="02db"></A>   |_ROM.User:02db   [475]           ??          00h                                     
<A NAME="02dc"></A>   |_ROM.User:02dc   [476]           ??          00h                                     
<A NAME="02dd"></A>   |_ROM.User:02dd   [477]           ??          00h                                     
<A NAME="02de"></A>   |_ROM.User:02de   [478]           ??          00h                                     
<A NAME="02df"></A>   |_ROM.User:02df   [479]           ??          00h                                     
<A NAME="02e0"></A>   |_ROM.User:02e0   [480]           ??          00h                                     
<A NAME="02e1"></A>   |_ROM.User:02e1   [481]           ??          00h                                     
<A NAME="02e2"></A>   |_ROM.User:02e2   [482]           ??          00h                                     
<A NAME="02e3"></A>   |_ROM.User:02e3   [483]           ??          00h                                     
<A NAME="02e4"></A>   |_ROM.User:02e4   [484]           ??          00h                                     
<A NAME="02e5"></A>   |_ROM.User:02e5   [485]           ??          00h                                     
<A NAME="02e6"></A>   |_ROM.User:02e6   [486]           ??          00h                                     
<A NAME="02e7"></A>   |_ROM.User:02e7   [487]           ??          00h                                     
<A NAME="02e8"></A>   |_ROM.User:02e8   [488]           ??          00h                                     
<A NAME="02e9"></A>   |_ROM.User:02e9   [489]           ??          00h                                     
<A NAME="02ea"></A>   |_ROM.User:02ea   [490]           ??          00h                                     
<A NAME="02eb"></A>   |_ROM.User:02eb   [491]           ??          00h                                     
<A NAME="02ec"></A>   |_ROM.User:02ec   [492]           ??          00h                                     
<A NAME="02ed"></A>   |_ROM.User:02ed   [493]           ??          00h                                     
<A NAME="02ee"></A>   |_ROM.User:02ee   [494]           ??          00h                                     
<A NAME="02ef"></A>   |_ROM.User:02ef   [495]           ??          00h                                     
<A NAME="02f0"></A>   |_ROM.User:02f0   [496]           ??          00h                                     
<A NAME="02f1"></A>   |_ROM.User:02f1   [497]           ??          00h                                     
<A NAME="02f2"></A>   |_ROM.User:02f2   [498]           ??          00h                                     
<A NAME="02f3"></A>   |_ROM.User:02f3   [499]           ??          00h                                     
<A NAME="02f4"></A>   |_ROM.User:02f4   [500]           ??          00h                                     
<A NAME="02f5"></A>   |_ROM.User:02f5   [501]           ??          00h                                     
<A NAME="02f6"></A>   |_ROM.User:02f6   [502]           ??          00h                                     
<A NAME="02f7"></A>   |_ROM.User:02f7   [503]           ??          00h                                     
<A NAME="02f8"></A>   |_ROM.User:02f8   [504]           ??          00h                                     
<A NAME="02f9"></A>   |_ROM.User:02f9   [505]           ??          00h                                     
<A NAME="02fa"></A>   |_ROM.User:02fa   [506]           ??          00h                                     
<A NAME="02fb"></A>   |_ROM.User:02fb   [507]           ??          00h                                     
<A NAME="02fc"></A>   |_ROM.User:02fc   [508]           ??          00h                                     
<A NAME="02fd"></A>   |_ROM.User:02fd   [509]           ??          00h                                     
<A NAME="02fe"></A>   |_ROM.User:02fe   [510]           ??          00h                                     
<A NAME="02ff"></A>   |_ROM.User:02ff   [511]           ??          00h                                     
<A NAME="0300"></A>   |_ROM.User:0300   [512]           ??          00h                                     
<A NAME="0301"></A>   |_ROM.User:0301   [513]           ??          00h                                     
<A NAME="0302"></A>   |_ROM.User:0302   [514]           ??          00h                                     
<A NAME="0303"></A>   |_ROM.User:0303   [515]           ??          00h                                     
<A NAME="0304"></A>   |_ROM.User:0304   [516]           ??          00h                                     
<A NAME="0305"></A>   |_ROM.User:0305   [517]           ??          00h                                     
<A NAME="0306"></A>   |_ROM.User:0306   [518]           ??          00h                                     
<A NAME="0307"></A>   |_ROM.User:0307   [519]           ??          00h                                     
<A NAME="0308"></A>   |_ROM.User:0308   [520]           ??          00h                                     
<A NAME="0309"></A>   |_ROM.User:0309   [521]           ??          00h                                     
<A NAME="030a"></A>   |_ROM.User:030a   [522]           ??          00h                                     
<A NAME="030b"></A>   |_ROM.User:030b   [523]           ??          00h                                     
<A NAME="030c"></A>   |_ROM.User:030c   [524]           ??          00h                                     
<A NAME="030d"></A>   |_ROM.User:030d   [525]           ??          00h                                     
<A NAME="030e"></A>   |_ROM.User:030e   [526]           ??          00h                                     
<A NAME="030f"></A>   |_ROM.User:030f   [527]           ??          00h                                     
<A NAME="0310"></A>   |_ROM.User:0310   [528]           ??          00h                                     
<A NAME="0311"></A>   |_ROM.User:0311   [529]           ??          00h                                     
<A NAME="0312"></A>   |_ROM.User:0312   [530]           ??          00h                                     
<A NAME="0313"></A>   |_ROM.User:0313   [531]           ??          00h                                     
<A NAME="0314"></A>   |_ROM.User:0314   [532]           ??          00h                                     
<A NAME="0315"></A>   |_ROM.User:0315   [533]           ??          00h                                     
<A NAME="0316"></A>   |_ROM.User:0316   [534]           ??          00h                                     
<A NAME="0317"></A>   |_ROM.User:0317   [535]           ??          00h                                     
<A NAME="0318"></A>   |_ROM.User:0318   [536]           ??          00h                                     
<A NAME="0319"></A>   |_ROM.User:0319   [537]           ??          00h                                     
<A NAME="031a"></A>   |_ROM.User:031a   [538]           ??          00h                                     
<A NAME="031b"></A>   |_ROM.User:031b   [539]           ??          00h                                     
<A NAME="031c"></A>   |_ROM.User:031c   [540]           ??          00h                                     
<A NAME="031d"></A>   |_ROM.User:031d   [541]           ??          00h                                     
<A NAME="031e"></A>   |_ROM.User:031e   [542]           ??          00h                                     
<A NAME="031f"></A>   |_ROM.User:031f   [543]           ??          00h                                     
<A NAME="0320"></A>   |_ROM.User:0320   [544]           ??          00h                                     
<A NAME="0321"></A>   |_ROM.User:0321   [545]           ??          00h                                     
<A NAME="0322"></A>   |_ROM.User:0322   [546]           ??          00h                                     
<A NAME="0323"></A>   |_ROM.User:0323   [547]           ??          00h                                     
<A NAME="0324"></A>   |_ROM.User:0324   [548]           ??          00h                                     
<A NAME="0325"></A>   |_ROM.User:0325   [549]           ??          00h                                     
<A NAME="0326"></A>   |_ROM.User:0326   [550]           ??          00h                                     
<A NAME="0327"></A>   |_ROM.User:0327   [551]           ??          00h                                     
<A NAME="0328"></A>   |_ROM.User:0328   [552]           ??          00h                                     
<A NAME="0329"></A>   |_ROM.User:0329   [553]           ??          00h                                     
<A NAME="032a"></A>   |_ROM.User:032a   [554]           ??          00h                                     
<A NAME="032b"></A>   |_ROM.User:032b   [555]           ??          00h                                     
<A NAME="032c"></A>   |_ROM.User:032c   [556]           ??          00h                                     
<A NAME="032d"></A>   |_ROM.User:032d   [557]           ??          00h                                     
<A NAME="032e"></A>   |_ROM.User:032e   [558]           ??          00h                                     
<A NAME="032f"></A>   |_ROM.User:032f   [559]           ??          00h                                     
<A NAME="0330"></A>   |_ROM.User:0330   [560]           ??          00h                                     
<A NAME="0331"></A>   |_ROM.User:0331   [561]           ??          00h                                     
<A NAME="0332"></A>   |_ROM.User:0332   [562]           ??          00h                                     
<A NAME="0333"></A>   |_ROM.User:0333   [563]           ??          00h                                     
<A NAME="0334"></A>   |_ROM.User:0334   [564]           ??          00h                                     
<A NAME="0335"></A>   |_ROM.User:0335   [565]           ??          00h                                     
<A NAME="0336"></A>   |_ROM.User:0336   [566]           ??          00h                                     
<A NAME="0337"></A>   |_ROM.User:0337   [567]           ??          00h                                     
<A NAME="0338"></A>   |_ROM.User:0338   [568]           ??          00h                                     
<A NAME="0339"></A>   |_ROM.User:0339   [569]           ??          00h                                     
<A NAME="033a"></A>   |_ROM.User:033a   [570]           ??          00h                                     
<A NAME="033b"></A>   |_ROM.User:033b   [571]           ??          00h                                     
<A NAME="033c"></A>   |_ROM.User:033c   [572]           ??          00h                                     
<A NAME="033d"></A>   |_ROM.User:033d   [573]           ??          00h                                     
<A NAME="033e"></A>   |_ROM.User:033e   [574]           ??          00h                                     
<A NAME="033f"></A>   |_ROM.User:033f   [575]           ??          00h                                     
<A NAME="0340"></A>   |_ROM.User:0340   [576]           ??          00h                                     
<A NAME="0341"></A>   |_ROM.User:0341   [577]           ??          00h                                     
<A NAME="0342"></A>   |_ROM.User:0342   [578]           ??          00h                                     
<A NAME="0343"></A>   |_ROM.User:0343   [579]           ??          00h                                     
<A NAME="0344"></A>   |_ROM.User:0344   [580]           ??          00h                                     
<A NAME="0345"></A>   |_ROM.User:0345   [581]           ??          00h                                     
<A NAME="0346"></A>   |_ROM.User:0346   [582]           ??          00h                                     
<A NAME="0347"></A>   |_ROM.User:0347   [583]           ??          00h                                     
<A NAME="0348"></A>   |_ROM.User:0348   [584]           ??          00h                                     
<A NAME="0349"></A>   |_ROM.User:0349   [585]           ??          00h                                     
<A NAME="034a"></A>   |_ROM.User:034a   [586]           ??          00h                                     
<A NAME="034b"></A>   |_ROM.User:034b   [587]           ??          00h                                     
<A NAME="034c"></A>   |_ROM.User:034c   [588]           ??          00h                                     
<A NAME="034d"></A>   |_ROM.User:034d   [589]           ??          00h                                     
<A NAME="034e"></A>   |_ROM.User:034e   [590]           ??          00h                                     
<A NAME="034f"></A>   |_ROM.User:034f   [591]           ??          00h                                     
<A NAME="0350"></A>   |_ROM.User:0350   [592]           ??          00h                                     
<A NAME="0351"></A>   |_ROM.User:0351   [593]           ??          00h                                     
<A NAME="0352"></A>   |_ROM.User:0352   [594]           ??          00h                                     
<A NAME="0353"></A>   |_ROM.User:0353   [595]           ??          00h                                     
<A NAME="0354"></A>   |_ROM.User:0354   [596]           ??          00h                                     
<A NAME="0355"></A>   |_ROM.User:0355   [597]           ??          00h                                     
<A NAME="0356"></A>   |_ROM.User:0356   [598]           ??          00h                                     
<A NAME="0357"></A>   |_ROM.User:0357   [599]           ??          00h                                     
<A NAME="0358"></A>   |_ROM.User:0358   [600]           ??          00h                                     
<A NAME="0359"></A>   |_ROM.User:0359   [601]           ??          00h                                     
<A NAME="035a"></A>   |_ROM.User:035a   [602]           ??          00h                                     
<A NAME="035b"></A>   |_ROM.User:035b   [603]           ??          00h                                     
<A NAME="035c"></A>   |_ROM.User:035c   [604]           ??          00h                                     
<A NAME="035d"></A>   |_ROM.User:035d   [605]           ??          00h                                     
<A NAME="035e"></A>   |_ROM.User:035e   [606]           ??          00h                                     
<A NAME="035f"></A>   |_ROM.User:035f   [607]           ??          00h                                     
<A NAME="0360"></A>   |_ROM.User:0360   [608]           ??          00h                                     
<A NAME="0361"></A>   |_ROM.User:0361   [609]           ??          00h                                     
<A NAME="0362"></A>   |_ROM.User:0362   [610]           ??          00h                                     
<A NAME="0363"></A>   |_ROM.User:0363   [611]           ??          00h                                     
<A NAME="0364"></A>   |_ROM.User:0364   [612]           ??          00h                                     
<A NAME="0365"></A>   |_ROM.User:0365   [613]           ??          00h                                     
<A NAME="0366"></A>   |_ROM.User:0366   [614]           ??          00h                                     
<A NAME="0367"></A>   |_ROM.User:0367   [615]           ??          00h                                     
<A NAME="0368"></A>   |_ROM.User:0368   [616]           ??          00h                                     
<A NAME="0369"></A>   |_ROM.User:0369   [617]           ??          00h                                     
<A NAME="036a"></A>   |_ROM.User:036a   [618]           ??          00h                                     
<A NAME="036b"></A>   |_ROM.User:036b   [619]           ??          00h                                     
<A NAME="036c"></A>   |_ROM.User:036c   [620]           ??          00h                                     
<A NAME="036d"></A>   |_ROM.User:036d   [621]           ??          00h                                     
<A NAME="036e"></A>   |_ROM.User:036e   [622]           ??          00h                                     
<A NAME="036f"></A>   |_ROM.User:036f   [623]           ??          00h                                     
<A NAME="0370"></A>   |_ROM.User:0370   [624]           ??          00h                                     
<A NAME="0371"></A>   |_ROM.User:0371   [625]           ??          00h                                     
<A NAME="0372"></A>   |_ROM.User:0372   [626]           ??          00h                                     
<A NAME="0373"></A>   |_ROM.User:0373   [627]           ??          00h                                     
<A NAME="0374"></A>   |_ROM.User:0374   [628]           ??          00h                                     
<A NAME="0375"></A>   |_ROM.User:0375   [629]           ??          00h                                     
<A NAME="0376"></A>   |_ROM.User:0376   [630]           ??          00h                                     
<A NAME="0377"></A>   |_ROM.User:0377   [631]           ??          00h                                     
<A NAME="0378"></A>   |_ROM.User:0378   [632]           ??          00h                                     
<A NAME="0379"></A>   |_ROM.User:0379   [633]           ??          00h                                     
<A NAME="037a"></A>   |_ROM.User:037a   [634]           ??          00h                                     
<A NAME="037b"></A>   |_ROM.User:037b   [635]           ??          00h                                     
<A NAME="037c"></A>   |_ROM.User:037c   [636]           ??          00h                                     
<A NAME="037d"></A>   |_ROM.User:037d   [637]           ??          00h                                     
<A NAME="037e"></A>   |_ROM.User:037e   [638]           ??          00h                                     
<A NAME="037f"></A>   |_ROM.User:037f   [639]           ??          00h                                     
<A NAME="0380"></A>   |_ROM.User:0380   [640]           ??          00h                                     
<A NAME="0381"></A>   |_ROM.User:0381   [641]           ??          00h                                     
<A NAME="0382"></A>   |_ROM.User:0382   [642]           ??          00h                                     
<A NAME="0383"></A>   |_ROM.User:0383   [643]           ??          00h                                     
<A NAME="0384"></A>   |_ROM.User:0384   [644]           ??          00h                                     
<A NAME="0385"></A>   |_ROM.User:0385   [645]           ??          00h                                     
<A NAME="0386"></A>   |_ROM.User:0386   [646]           ??          00h                                     
<A NAME="0387"></A>   |_ROM.User:0387   [647]           ??          00h                                     
<A NAME="0388"></A>   |_ROM.User:0388   [648]           ??          00h                                     
<A NAME="0389"></A>   |_ROM.User:0389   [649]           ??          00h                                     
<A NAME="038a"></A>   |_ROM.User:038a   [650]           ??          00h                                     
<A NAME="038b"></A>   |_ROM.User:038b   [651]           ??          00h                                     
<A NAME="038c"></A>   |_ROM.User:038c   [652]           ??          00h                                     
<A NAME="038d"></A>   |_ROM.User:038d   [653]           ??          00h                                     
<A NAME="038e"></A>   |_ROM.User:038e   [654]           ??          00h                                     
<A NAME="038f"></A>   |_ROM.User:038f   [655]           ??          00h                                     
<A NAME="0390"></A>   |_ROM.User:0390   [656]           ??          00h                                     
<A NAME="0391"></A>   |_ROM.User:0391   [657]           ??          00h                                     
<A NAME="0392"></A>   |_ROM.User:0392   [658]           ??          00h                                     
<A NAME="0393"></A>   |_ROM.User:0393   [659]           ??          00h                                     
<A NAME="0394"></A>   |_ROM.User:0394   [660]           ??          00h                                     
<A NAME="0395"></A>   |_ROM.User:0395   [661]           ??          00h                                     
<A NAME="0396"></A>   |_ROM.User:0396   [662]           ??          00h                                     
<A NAME="0397"></A>   |_ROM.User:0397   [663]           ??          00h                                     
<A NAME="0398"></A>   |_ROM.User:0398   [664]           ??          00h                                     
<A NAME="0399"></A>   |_ROM.User:0399   [665]           ??          00h                                     
<A NAME="039a"></A>   |_ROM.User:039a   [666]           ??          00h                                     
<A NAME="039b"></A>   |_ROM.User:039b   [667]           ??          00h                                     
<A NAME="039c"></A>   |_ROM.User:039c   [668]           ??          00h                                     
<A NAME="039d"></A>   |_ROM.User:039d   [669]           ??          00h                                     
<A NAME="039e"></A>   |_ROM.User:039e   [670]           ??          00h                                     
<A NAME="039f"></A>   |_ROM.User:039f   [671]           ??          00h                                     
<A NAME="03a0"></A>   |_ROM.User:03a0   [672]           ??          00h                                     
<A NAME="03a1"></A>   |_ROM.User:03a1   [673]           ??          00h                                     
<A NAME="03a2"></A>   |_ROM.User:03a2   [674]           ??          00h                                     
<A NAME="03a3"></A>   |_ROM.User:03a3   [675]           ??          00h                                     
<A NAME="03a4"></A>   |_ROM.User:03a4   [676]           ??          00h                                     
<A NAME="03a5"></A>   |_ROM.User:03a5   [677]           ??          00h                                     
<A NAME="03a6"></A>   |_ROM.User:03a6   [678]           ??          00h                                     
<A NAME="03a7"></A>   |_ROM.User:03a7   [679]           ??          00h                                     
<A NAME="03a8"></A>   |_ROM.User:03a8   [680]           ??          00h                                     
<A NAME="03a9"></A>   |_ROM.User:03a9   [681]           ??          00h                                     
<A NAME="03aa"></A>   |_ROM.User:03aa   [682]           ??          00h                                     
<A NAME="03ab"></A>   |_ROM.User:03ab   [683]           ??          00h                                     
<A NAME="03ac"></A>   |_ROM.User:03ac   [684]           ??          00h                                     
<A NAME="03ad"></A>   |_ROM.User:03ad   [685]           ??          00h                                     
<A NAME="03ae"></A>   |_ROM.User:03ae   [686]           ??          00h                                     
<A NAME="03af"></A>   |_ROM.User:03af   [687]           ??          00h                                     
<A NAME="03b0"></A>   |_ROM.User:03b0   [688]           ??          00h                                     
<A NAME="03b1"></A>   |_ROM.User:03b1   [689]           ??          00h                                     
<A NAME="03b2"></A>   |_ROM.User:03b2   [690]           ??          00h                                     
<A NAME="03b3"></A>   |_ROM.User:03b3   [691]           ??          00h                                     
<A NAME="03b4"></A>   |_ROM.User:03b4   [692]           ??          00h                                     
<A NAME="03b5"></A>   |_ROM.User:03b5   [693]           ??          00h                                     
<A NAME="03b6"></A>   |_ROM.User:03b6   [694]           ??          00h                                     
<A NAME="03b7"></A>   |_ROM.User:03b7   [695]           ??          00h                                     
<A NAME="03b8"></A>   |_ROM.User:03b8   [696]           ??          00h                                     
<A NAME="03b9"></A>   |_ROM.User:03b9   [697]           ??          00h                                     
<A NAME="03ba"></A>   |_ROM.User:03ba   [698]           ??          00h                                     
<A NAME="03bb"></A>   |_ROM.User:03bb   [699]           ??          00h                                     
<A NAME="03bc"></A>   |_ROM.User:03bc   [700]           ??          00h                                     
<A NAME="03bd"></A>   |_ROM.User:03bd   [701]           ??          00h                                     
<A NAME="03be"></A>   |_ROM.User:03be   [702]           ??          00h                                     
<A NAME="03bf"></A>   |_ROM.User:03bf   [703]           ??          00h                                     
<A NAME="03c0"></A>                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;void pll_WriteByte(byte pllbyte)
          <A NAME="pll_WriteByte_pllbyte"></A>;pllbyte       byte                 A                      
                                                          ;XREF[4,0]:   <A HREF="#05e7">05e7</A>,<A HREF="#05ec">05ec</A>,<A HREF="#075d">075d</A>,<A HREF="#0762">0762</A>
ROM.User:03c0   ae08            LDX         #0x8                                    ;sending 8 bits
<A NAME="03c2"></A>                            send_bit_loop:                ;XREF[1,0]:   <A HREF="#03ce">03ce</A>
ROM.User:03c2   49              ROLA                                                ;move next bit (msb) into carry
<A NAME="03c3"></A>ROM.User:03c3   2402            BCC         <A HREF="#03c7">bit_is_zero</A>                             
<A NAME="03c5"></A>ROM.User:03c5   1e00            BSET        PA7_PLL_DATA,<A HREF="#0000">SFR:PORTA</A>                  ;bit is a 1, set PA7 (PLL data)
<A NAME="03c7"></A>                            bit_is_zero:                  ;XREF[1,0]:   <A HREF="#03c3">03c3</A>
ROM.User:03c7   1c00            BSET        PA6_PLL_CLOCK,<A HREF="#0000">SFR:PORTA</A>                 ;Strobe PLL clock
<A NAME="03c9"></A>ROM.User:03c9   1d00            BCLR        PA6_PLL_CLOCK,<A HREF="#0000">SFR:PORTA</A>                 ;I/O port A
<A NAME="03cb"></A>ROM.User:03cb   1f00            BCLR        PA7_PLL_DATA,<A HREF="#0000">SFR:PORTA</A>                  ;Clear PLL data ready for next bit (a...
<A NAME="03cd"></A>ROM.User:03cd   5a              DECX                                                ;next bit
<A NAME="03ce"></A>ROM.User:03ce   26f2            BNE         <A HREF="#03c2">send_bit_loop</A>                           
<A NAME="03d0"></A>ROM.User:03d0   81              RTS                                                 
<A NAME="03d1"></A>                            ;************************************************************************************************
                            ;*  Reset the timer to 1.8 seconds and go around                                                *
                            ;*  the main loop again                                                                         *
                            ;************************************************************************************************
                            ResetTimerAndGoAround:        ;XREF[10,0]:  <A HREF="#03e4">03e4</A>,<A HREF="#03e7">03e7</A>,<A HREF="#03f8">03f8</A>,<A HREF="#0418">0418</A>,<A HREF="#0445">0445</A>,<A HREF="#045e">045e</A>,<A HREF="#0476">0476</A>,<A HREF="#0492">0492</A>
                                                          ;             <A HREF="#04d0">04d0</A>,<A HREF="#053d">053d</A>
ROM.User:03d1   a678            LDA         #120                                    ;120 timer ticks = 1800ms
<A NAME="03d3"></A>ROM.User:03d3   b708            STA         <A HREF="#0008">SFR:TIMER</A>                               ;Timer data register
<A NAME="03d5"></A>                            entry_from_irq:               ;XREF[1,0]:   <A HREF="#077d">077d</A>
ROM.User:03d5   010203          BRCLR       PC0_UART_DR,<A HREF="#0002">SFR:PORTC</A>,<A HREF="#03db">noUartDataReady</A>   ;uart data ready to read?
<A NAME="03d8"></A>ROM.User:03d8   cd05c2          JSR         <A HREF="#05c2">mainCommandHandlingLoop</A>                 ;if so, go to main command handler
<A NAME="03db"></A>                            noUartDataReady:              ;XREF[1,0]:   <A HREF="#03d5">03d5</A>
ROM.User:03db   1001            BSET        PB0_FIFO_RX_ARM,<A HREF="#0001">SFR:PORTB</A>               ;no commands to process.
                                                                                    ;  arm receive fifo and wait for IRQ ...
<A NAME="03dd"></A>                            forever:                      ;XREF[1,0]:   <A HREF="#03dd">03dd</A>
ROM.User:03dd   20fe            BRA         <A HREF="#03dd">forever</A>                                 
<A NAME="03df"></A>                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined HandleIncomingPacket()
                                                          ;XREF[1,0]:   <A HREF="#06ec">06ec</A>
ROM.User:03df   1101            BCLR        PB0_FIFO_RX_ARM,<A HREF="#0001">SFR:PORTB</A>               ;I/O port B
<A NAME="03e1"></A>                            ;
                            ;Check PAL status.
                            ;PC3: 1 when idle, 0 on address match
                            ;PC2: 1 when idle, 0 on address searching or match
ROM.User:03e1   070223          BRCLR       PC3_PAL_P14,<A HREF="#0002">SFR:PORTC</A>,<A HREF="#0407">pal_addr_match</A>    ;Jump if PAL's seen an address match
<A NAME="03e4"></A>ROM.User:03e4   0502ea          BRCLR       PC2_PAL_P13,<A HREF="#0002">SFR:PORTC</A>,<A HREF="#03d1">ResetTimerAndGo...</A>;Jump if PAL's searching
<A NAME="03e7"></A>ROM.User:03e7   0154e7          BRCLR       FLAGS54_0...,<A HREF="#0054">RAM:FLAGS54</A>,<A HREF="#03d1">ResetTimerAn...</A>;Jump if main cmdh holds the lock
<A NAME="03ea"></A>                            ;
                            ;PAL is idle but we had an interrupt?
ROM.User:03ea   3f04            CLR         <A HREF="#0004">SFR:DDRA</A>                                ;Port A all inputs
<A NAME="03ec"></A>ROM.User:03ec   5f              CLRX                                                ;X=0
<A NAME="03ed"></A>                            compare_addr_loop:            ;XREF[1,0]:   <A HREF="#03fd">03fd</A>
ROM.User:03ed   1301            BCLR        PB1_FIFO_U7_LE,<A HREF="#0001">SFR:PORTB</A>                ;read from fifo
<A NAME="03ef"></A>ROM.User:03ef   4f              CLRA                                                
<A NAME="03f0"></A>ROM.User:03f0   b600            LDA         <A HREF="#0000">SFR:PORTA</A>                               ;get data into A
<A NAME="03f2"></A>ROM.User:03f2   1201            BSET        PB1_FIFO_U7_LE,<A HREF="#0001">SFR:PORTB</A>                ;I/O port B
<A NAME="03f4"></A>ROM.User:03f4   e759            STA         <A HREF="#0059">RAM:cablePktHdr,X</A>                       ;save current segment address
<A NAME="03f6"></A>ROM.User:03f6   e155            CMP         <A HREF="#0055">RAM:reqSegmAddress,X</A>                    ;compare with requested address
<A NAME="03f8"></A>ROM.User:03f8   26d7            BNE         <A HREF="#03d1">ResetTimerAndGoAround</A>                   ;if mismatch, bail
<A NAME="03fa"></A>ROM.User:03fa   5c              INCX                                                
<A NAME="03fb"></A>ROM.User:03fb   a303            CPX         #0x3                                    ;if <= 3, continue
<A NAME="03fd"></A>ROM.User:03fd   23ee            BLS         <A HREF="#03ed">compare_addr_loop</A>                       
<A NAME="03ff"></A>ROM.User:03ff   cd05b8          JSR         <A HREF="#05b8">rdAndStorePkHdByte</A>                      ;Read byte from FIFO to A, store in c...
<A NAME="0402"></A>ROM.User:0402   1a54            BSET        FLAGS54_5,<A HREF="#0054">RAM:FLAGS54</A>                   ;= FFh
<A NAME="0404"></A>ROM.User:0404   cc0495          JMP         <A HREF="#0495">LAB_0495</A>                                
<A NAME="0407"></A>                            ;
                            ;PAL signalled an address match (PC3=0, PC2 don't care)
                            pal_addr_match:               ;XREF[1,0]:   <A HREF="#03e1">03e1</A>
ROM.User:0407   3f04            CLR         <A HREF="#0004">SFR:DDRA</A>                                ;Port A all inputs
<A NAME="0409"></A>ROM.User:0409   5f              CLRX                                                ;X=0
<A NAME="040a"></A>                            readFourBytesLoop:            ;XREF[1,0]:   <A HREF="#0410">0410</A>
ROM.User:040a   cd05b8          JSR         <A HREF="#05b8">rdAndStorePkHdByte</A>                      ;read from fifo, store in cable header
<A NAME="040d"></A>ROM.User:040d   5c              INCX                                                
<A NAME="040e"></A>ROM.User:040e   a304            CPX         #0x4                                    ;read 4 bytes
<A NAME="0410"></A>ROM.User:0410   23f8            BLS         <A HREF="#040a">readFourBytesLoop</A>                       
<A NAME="0412"></A>ROM.User:0412   0d5405          BRCLR       FLAGS54_6...,<A HREF="#0054">RAM:FLAGS54</A>,<A HREF="#041a">notAMessage</A>    ;= FFh
<A NAME="0415"></A>ROM.User:0415   cd0688          JSR         <A HREF="#0688">handleMessage</A>                           ;void handleMessage(byte messageIxByte)
<A NAME="0418"></A>ROM.User:0418   20b7            BRA         <A HREF="#03d1">ResetTimerAndGoAround</A>                   
<A NAME="041a"></A>                            ;Packet isn't a MESSAGE
                            notAMessage:                  ;XREF[1,0]:   <A HREF="#0412">0412</A>
ROM.User:041a   1b54            BCLR        FLAGS54_5,<A HREF="#0054">RAM:FLAGS54</A>                   ;= FFh
<A NAME="041c"></A>ROM.User:041c   0e5d02          BRSET       0x7,<A HREF="#005d">RAM:cablePktHdr[4]</A>,<A HREF="#0421">LAB_0421</A>         ;check if something is okay?
<A NAME="041f"></A>ROM.User:041f   2074            BRA         <A HREF="#0495">LAB_0495</A>                                
<A NAME="0421"></A>                            LAB_0421:                     ;XREF[1,0]:   <A HREF="#041c">041c</A>
ROM.User:0421   a6ff            LDA         #0xff                                   ;start calculating packet CRC.
                                                                                    ;  Init CRC to FFFF
<A NAME="0423"></A>ROM.User:0423   b766            STA         <A HREF="#0066">RAM:CRCAccumLow</A>                         
<A NAME="0425"></A>ROM.User:0425   b761            STA         <A HREF="#0061">RAM:CRCAccumHigh</A>                        
<A NAME="0427"></A>ROM.User:0427   ae00            LDX         #0x0                                    ;could have done CLRX but okay
<A NAME="0429"></A>                            addrCRCLoop:                  ;XREF[1,0]:   <A HREF="#0430">0430</A>
ROM.User:0429   e659            LDA         <A HREF="#0059">RAM:cablePktHdr,X</A>                       
<A NAME="042b"></A>ROM.User:042b   cd0540          JSR         <A HREF="#0540">CRC_Update</A>                              ;void CRC_Update(byte val)
<A NAME="042e"></A>ROM.User:042e   a304            CPX         #0x4                                    
<A NAME="0430"></A>ROM.User:0430   23f7            BLS         <A HREF="#0429">addrCRCLoop</A>                             
<A NAME="0432"></A>ROM.User:0432   b65d            LDA         <A HREF="#005d">RAM:cablePktHdr[4]</A>                      ;check 5D flags are what we want
<A NAME="0434"></A>ROM.User:0434   a181            CMP         #0x81                                   
<A NAME="0436"></A>ROM.User:0436   2629            BNE         <A HREF="#0461">LAB_0461</A>                                
<A NAME="0438"></A>ROM.User:0438   3f63            CLR         <A HREF="#0063">RAM:DAT_0063</A>                            ;min
<A NAME="043a"></A>ROM.User:043a   a603            LDA         #0x3                                    
<A NAME="043c"></A>ROM.User:043c   b764            STA         <A HREF="#0064">RAM:DAT_0064</A>                            ;max
<A NAME="043e"></A>ROM.User:043e   a60d            LDA         #13                                     
<A NAME="0440"></A>ROM.User:0440   b762            STA         <A HREF="#0062">RAM:temp62</A>                              ;byte count
<A NAME="0442"></A>ROM.User:0442   cd057e          JSR         <A HREF="#057e">FUN_057e</A>                                ;does something with the header,
                                                                                    ;  CRCs etc
                                                                                    ;  carry set on failure?
<A NAME="0445"></A>ROM.User:0445   258a            BCS         <A HREF="#03d1">ResetTimerAndGoAround</A>                   
<A NAME="0447"></A>ROM.User:0447   b659            LDA         <A HREF="#0059">RAM:cablePktHdr</A>                         ;get first byte of cable header
                                                                                    ;  = first addr byte
<A NAME="0449"></A>ROM.User:0449   2b04            BMI         <A HREF="#044f">pkthdrAddrMsbSet</A>                        ;branch minus -> jump if MSB set
<A NAME="044b"></A>ROM.User:044b   ae49            LDX         <A HREF="#0049">#RAM:DAT_0049</A>                           ;DAT_0049 -> init'ed to 0x40 on boot
<A NAME="044d"></A>ROM.User:044d   2002            BRA         <A HREF="#0451">pkthdrAddrMsbNotSet</A>                     
<A NAME="044f"></A>                            pkthdrAddrMsbSet:             ;XREF[1,0]:   <A HREF="#0449">0449</A>
ROM.User:044f   ae4d            LDX         <A HREF="#004d">#RAM:DAT_004d</A>                           ;= 9Dh
<A NAME="0451"></A>                            pkthdrAddrMsbNotSet:          ;XREF[1,0]:   <A HREF="#044d">044d</A>
                                                          ; FWD[2,0]:   <A HREF="#0049">0049</A>,<A HREF="#004d">004d</A>
ROM.User:0451   f7              STA         <A HREF="#0049">X=>RAM:DAT_0049</A>                         ;= 9Dh
<A NAME="0452"></A>ROM.User:0452   5c              INCX                                                
<A NAME="0453"></A>ROM.User:0453   b65a            LDA         <A HREF="#005a">RAM:cablePktHdr[1]</A>                      
<A NAME="0455"></A>                                                          ; FWD[2,0]:   <A HREF="#004a">004a</A>,<A HREF="#004e">004e</A>
ROM.User:0455   f7              STA         <A HREF="#004a">X=>RAM:DAT_004a</A>                         ;= 9Dh
<A NAME="0456"></A>ROM.User:0456   5c              INCX                                                
<A NAME="0457"></A>ROM.User:0457   b65b            LDA         <A HREF="#005b">RAM:cablePktHdr[2]</A>                      
<A NAME="0459"></A>                                                          ; FWD[2,0]:   <A HREF="#004b">004b</A>,<A HREF="#004f">004f</A>
ROM.User:0459   f7              STA         <A HREF="#004b">X=>RAM:DAT_004b</A>                         ;= 9Dh
<A NAME="045a"></A>ROM.User:045a   5c              INCX                                                
<A NAME="045b"></A>ROM.User:045b   b65c            LDA         <A HREF="#005c">RAM:cablePktHdr[3]</A>                      
<A NAME="045d"></A>                                                          ; FWD[2,0]:   <A HREF="#004c">004c</A>,<A HREF="#0050">0050</A>
ROM.User:045d   f7              STA         <A HREF="#004c">X=>RAM:DAT_004c</A>                         ;= 9Dh
<A NAME="045e"></A>ROM.User:045e   cc03d1          JMP         <A HREF="#03d1">ResetTimerAndGoAround</A>                   
<A NAME="0461"></A>                            LAB_0461:                     ;XREF[1,0]:   <A HREF="#0436">0436</A>
ROM.User:0461   a182            CMP         #0x82                                   
<A NAME="0463"></A>ROM.User:0463   262d            BNE         <A HREF="#0492">LAB_0492</A>                                
<A NAME="0465"></A>ROM.User:0465   a60b            LDA         #0xb                                    
<A NAME="0467"></A>ROM.User:0467   b763            STA         <A HREF="#0063">RAM:DAT_0063</A>                            
<A NAME="0469"></A>ROM.User:0469   a612            LDA         #0x12                                   
<A NAME="046b"></A>ROM.User:046b   b764            STA         <A HREF="#0064">RAM:DAT_0064</A>                            
<A NAME="046d"></A>ROM.User:046d   a614            LDA         #0x14                                   ;byte count
<A NAME="046f"></A>ROM.User:046f   b762            STA         <A HREF="#0062">RAM:temp62</A>                              
<A NAME="0471"></A>ROM.User:0471   cd057e          JSR         <A HREF="#057e">FUN_057e</A>                                ;undefined FUN_057e()
<A NAME="0474"></A>ROM.User:0474   2403            BCC         <A HREF="#0479">LAB_0479</A>                                
<A NAME="0476"></A>ROM.User:0476   cc03d1          JMP         <A HREF="#03d1">ResetTimerAndGoAround</A>                   
<A NAME="0479"></A>                            LAB_0479:                     ;XREF[1,0]:   <A HREF="#0474">0474</A>
ROM.User:0479   ae00            LDX         #0x0                                    
<A NAME="047b"></A>                            LAB_047b:                     ;XREF[1,0]:   <A HREF="#048a">048a</A>
ROM.User:047b   e659            LDA         <A HREF="#0059">RAM:cablePktHdr,X</A>                       
<A NAME="047d"></A>ROM.User:047d   e141            CMP         <A HREF="#0041">RAM:DAT_0041,X</A>                          ;= 9Dh
<A NAME="047f"></A>ROM.User:047f   2706            BEQ         <A HREF="#0487">LAB_0487</A>                                
<A NAME="0481"></A>ROM.User:0481   1901            BCLR        PB4_MESSAGE_LED,<A HREF="#0001">SFR:PORTB</A>               ;turn on Message LED
<A NAME="0483"></A>ROM.User:0483   1940            BCLR        0x4,<A HREF="#0040">RAM:DAT_0040</A>                        ;= 40h
<A NAME="0485"></A>                            LAB_0485:                     ;XREF[1,0]:   <A HREF="#0490">0490</A>
ROM.User:0485   e741            STA         <A HREF="#0041">RAM:DAT_0041,X</A>                          ;= 9Dh
<A NAME="0487"></A>                            LAB_0487:                     ;XREF[1,0]:   <A HREF="#047f">047f</A>
ROM.User:0487   5c              INCX                                                
<A NAME="0488"></A>ROM.User:0488   a303            CPX         #0x3                                    
<A NAME="048a"></A>ROM.User:048a   23ef            BLS         <A HREF="#047b">LAB_047b</A>                                
<A NAME="048c"></A>ROM.User:048c   e659            LDA         <A HREF="#0059">RAM:cablePktHdr,X</A>                       
<A NAME="048e"></A>ROM.User:048e   a307            CPX         #0x7                                    
<A NAME="0490"></A>ROM.User:0490   23f3            BLS         <A HREF="#0485">LAB_0485</A>                                
<A NAME="0492"></A>                            LAB_0492:                     ;XREF[1,0]:   <A HREF="#0463">0463</A>
ROM.User:0492   cc03d1          JMP         <A HREF="#03d1">ResetTimerAndGoAround</A>                   
<A NAME="0495"></A>                            LAB_0495:                     ;XREF[2,0]:   <A HREF="#0404">0404</A>,<A HREF="#041f">041f</A>
ROM.User:0495   ae05            LDX         #0x5                                    
<A NAME="0497"></A>ROM.User:0497   cd05b8          JSR         <A HREF="#05b8">rdAndStorePkHdByte</A>                      ;Read byte from FIFO to A, store in c...
<A NAME="049a"></A>ROM.User:049a   2b0c            BMI         <A HREF="#04a8">LAB_04a8</A>                                
<A NAME="049c"></A>ROM.User:049c   1354            BCLR        FLAGS54_1,<A HREF="#0054">RAM:FLAGS54</A>                   ;= FFh
<A NAME="049e"></A>ROM.User:049e   1954            BCLR        FLAGS54_4,<A HREF="#0054">RAM:FLAGS54</A>                   ;= FFh
<A NAME="04a0"></A>                            LAB_04a0:                     ;XREF[1,0]:   <A HREF="#04ba">04ba</A>
                                                          ; FWD[3,0]:   <A HREF="#0044">0044</A>,<A HREF="#0049">0049</A>,<A HREF="#004a">004a</A>
ROM.User:04a0   e444            AND         <A HREF="#0044">RAM:TIER_AND,X</A>                          ;is this tier validation?
<A NAME="04a2"></A>ROM.User:04a2   270e            BEQ         <A HREF="#04b2">LAB_04b2</A>                                
<A NAME="04a4"></A>ROM.User:04a4   1254            BSET        FLAGS54_1,<A HREF="#0054">RAM:FLAGS54</A>                   ;= FFh
<A NAME="04a6"></A>ROM.User:04a6   200a            BRA         <A HREF="#04b2">LAB_04b2</A>                                
<A NAME="04a8"></A>                            LAB_04a8:                     ;XREF[1,0]:   <A HREF="#049a">049a</A>
ROM.User:04a8   1254            BSET        FLAGS54_1,<A HREF="#0054">RAM:FLAGS54</A>                   ;= FFh
<A NAME="04aa"></A>ROM.User:04aa   1854            BSET        FLAGS54_4,<A HREF="#0054">RAM:FLAGS54</A>                   ;= FFh
<A NAME="04ac"></A>                            LAB_04ac:                     ;XREF[1,0]:   <A HREF="#04bd">04bd</A>
                                                          ; FWD[3,0]:   <A HREF="#0048">0048</A>,<A HREF="#004d">004d</A>,<A HREF="#004e">004e</A>
ROM.User:04ac   e848            EOR         <A HREF="#0048">RAM:TIER_EOR,X</A>                          ;= 9Dh
<A NAME="04ae"></A>ROM.User:04ae   2702            BEQ         <A HREF="#04b2">LAB_04b2</A>                                
<A NAME="04b0"></A>ROM.User:04b0   1354            BCLR        FLAGS54_1,<A HREF="#0054">RAM:FLAGS54</A>                   ;= FFh
<A NAME="04b2"></A>                            LAB_04b2:                     ;XREF[3,0]:   <A HREF="#04a2">04a2</A>,<A HREF="#04a6">04a6</A>,<A HREF="#04ae">04ae</A>
ROM.User:04b2   5c              INCX                                                
<A NAME="04b3"></A>ROM.User:04b3   a308            CPX         #0x8                                    
<A NAME="04b5"></A>ROM.User:04b5   2208            BHI         <A HREF="#04bf">LAB_04bf</A>                                
<A NAME="04b7"></A>ROM.User:04b7   cd05b8          JSR         <A HREF="#05b8">rdAndStorePkHdByte</A>                      ;Read byte from FIFO to A, store in c...
<A NAME="04ba"></A>ROM.User:04ba   0954e3          BRCLR       FLAGS54_4,<A HREF="#0054">RAM:FLAGS54</A>,<A HREF="#04a0">LAB_04a0</A>          ;= FFh
<A NAME="04bd"></A>ROM.User:04bd   20ed            BRA         <A HREF="#04ac">LAB_04ac</A>                                
<A NAME="04bf"></A>                            LAB_04bf:                     ;XREF[1,0]:   <A HREF="#04b5">04b5</A>
ROM.User:04bf   a6ff            LDA         #0xff                                   ;port A all outputs
<A NAME="04c1"></A>ROM.User:04c1   b704            STA         <A HREF="#0004">SFR:DDRA</A>                                ;Port A DDR
<A NAME="04c3"></A>ROM.User:04c3   02540d          BRSET       FLAGS54_1,<A HREF="#0054">RAM:FLAGS54</A>,<A HREF="#04d3">LAB_04d3</A>          ;= FFh
<A NAME="04c6"></A>ROM.User:04c6   0b5407          BRCLR       FLAGS54_5,<A HREF="#0054">RAM:FLAGS54</A>,<A HREF="#04d0">LAB_04d0</A>          ;= FFh
<A NAME="04c9"></A>ROM.User:04c9   a690            LDA         #0x90                                   ;Status from NA to NPC: ???
                                                                                    ;  If 0x90 sent, NPC keeps retrying.
<A NAME="04cb"></A>ROM.User:04cb   cd056b          JSR         <A HREF="#056b">UartSendThenCheck1006Ack</A>                ;undefined UartSendThenCheck1006Ack()
<A NAME="04ce"></A>ROM.User:04ce   1154            BCLR        FLAGS54_0_MainCmdLock,<A HREF="#0054">RAM:FLAGS54</A>       ;= FFh
<A NAME="04d0"></A>                            LAB_04d0:                     ;XREF[1,0]:   <A HREF="#04c6">04c6</A>
ROM.User:04d0   cc03d1          JMP         <A HREF="#03d1">ResetTimerAndGoAround</A>                   
<A NAME="04d3"></A>                            LAB_04d3:                     ;XREF[1,0]:   <A HREF="#04c3">04c3</A>
ROM.User:04d3   0a5404          BRSET       FLAGS54_5,<A HREF="#0054">RAM:FLAGS54</A>,<A HREF="#04da">LAB_04da</A>          ;= FFh
<A NAME="04d6"></A>ROM.User:04d6   a692            LDA         #0x92                                   ;Status from NA to NPC: ???
<A NAME="04d8"></A>ROM.User:04d8   2002            BRA         <A HREF="#04dc">LAB_04dc</A>                                
<A NAME="04da"></A>                            LAB_04da:                     ;XREF[1,0]:   <A HREF="#04d3">04d3</A>
ROM.User:04da   a691            LDA         #0x91                                   ;Status from NA to NPC:
                                                                                    ;  OK, packet received
<A NAME="04dc"></A>                            LAB_04dc:                     ;XREF[1,0]:   <A HREF="#04d8">04d8</A>
ROM.User:04dc   cd056b          JSR         <A HREF="#056b">UartSendThenCheck1006Ack</A>                ;undefined UartSendThenCheck1006Ack()
<A NAME="04df"></A>ROM.User:04df   a6ff            LDA         #0xff                                   ;port A all outputs
<A NAME="04e1"></A>ROM.User:04e1   b704            STA         <A HREF="#0004">SFR:DDRA</A>                                ;Port A DDR
<A NAME="04e3"></A>ROM.User:04e3   ae59            LDX         #0x59                                   
<A NAME="04e5"></A>                            LAB_04e5:                     ;XREF[1,0]:   <A HREF="#04ec">04ec</A>
ROM.User:04e5   bdd4            JSR         <A HREF="#00d4">ROM.PageZero:UartSendXWithEscChk</A>        ;void UartSendXWithEscChk(byte val)
<A NAME="04e7"></A>ROM.User:04e7   2000            BRA         <A HREF="#04e9">LAB_04e9</A>                                
<A NAME="04e9"></A>                            LAB_04e9:                     ;XREF[1,0]:   <A HREF="#04e7">04e7</A>
ROM.User:04e9   5c              INCX                                                
<A NAME="04ea"></A>ROM.User:04ea   a361            CPX         #0x61                                   
<A NAME="04ec"></A>ROM.User:04ec   23f7            BLS         <A HREF="#04e5">LAB_04e5</A>                                
<A NAME="04ee"></A>ROM.User:04ee   1501            BCLR        PB2_FIFO_TX_GATE,<A HREF="#0001">SFR:PORTB</A>              ;I/O port B
<A NAME="04f0"></A>ROM.User:04f0   3f04            CLR         <A HREF="#0004">SFR:DDRA</A>                                ;Port A DDR
<A NAME="04f2"></A>ROM.User:04f2   1e54            BSET        FLAGS54_7,<A HREF="#0054">RAM:FLAGS54</A>                   ;= FFh
<A NAME="04f4"></A>ROM.User:04f4   2006            BRA         <A HREF="#04fc">LAB_04fc</A>                                
<A NAME="04f6"></A>                            LAB_04f6:                     ;XREF[1,0]:   <A HREF="#051f">051f</A>
ROM.User:04f6   050100          BRCLR       PB2_FIFO_TX_GATE,<A HREF="#0001">SFR:PORTB</A>,<A HREF="#04f9">LAB_04f9</A>     ;I/O port B
<A NAME="04f9"></A>                            LAB_04f9:                     ;XREF[1,0]:   <A HREF="#04f6">04f6</A>
ROM.User:04f9   050100          BRCLR       PB2_FIFO_TX_GATE,<A HREF="#0001">SFR:PORTB</A>,<A HREF="#04fc">LAB_04fc</A>     ;I/O port B
<A NAME="04fc"></A>                            LAB_04fc:                     ;XREF[2,0]:   <A HREF="#04f4">04f4</A>,<A HREF="#04f9">04f9</A>
ROM.User:04fc   050100          BRCLR       PB2_FIFO_TX_GATE,<A HREF="#0001">SFR:PORTB</A>,<A HREF="#04ff">LAB_04ff</A>     ;I/O port B
<A NAME="04ff"></A>                            LAB_04ff:                     ;XREF[1,0]:   <A HREF="#04fc">04fc</A>
ROM.User:04ff   b668            LDA         <A HREF="#0068">RAM:uartTxCharDelay</A>                     ;UART inter-character delay
<A NAME="0501"></A>ROM.User:0501   2703            BEQ         <A HREF="#0506">LAB_0506</A>                                
<A NAME="0503"></A>                            LAB_0503:                     ;XREF[1,0]:   <A HREF="#0504">0504</A>
ROM.User:0503   4a              DECA                                                
<A NAME="0504"></A>ROM.User:0504   26fd            BNE         <A HREF="#0503">LAB_0503</A>                                
<A NAME="0506"></A>                            LAB_0506:                     ;XREF[2,0]:   <A HREF="#0501">0501</A>,<A HREF="#0506">0506</A>
ROM.User:0506   0302fd          BRCLR       PC1_UART_THRE,<A HREF="#0002">SFR:PORTC</A>,<A HREF="#0506">LAB_0506</A>        ;I/O port C, low nibble only
<A NAME="0509"></A>ROM.User:0509   1301            BCLR        PB1_FIFO_U7_LE,<A HREF="#0001">SFR:PORTB</A>                ;I/O port B
<A NAME="050b"></A>ROM.User:050b   4f              CLRA                                                
<A NAME="050c"></A>ROM.User:050c   b600            LDA         <A HREF="#0000">SFR:PORTA</A>                               ;I/O port A
<A NAME="050e"></A>ROM.User:050e   a110            CMP         #0x10                                   
<A NAME="0510"></A>ROM.User:0510   260b            BNE         <A HREF="#051d">LAB_051d</A>                                
<A NAME="0512"></A>ROM.User:0512   a600            LDA         #0x0                                    
<A NAME="0514"></A>                            LAB_0514:                     ;XREF[1,0]:   <A HREF="#0517">0517</A>
ROM.User:0514   4c              INCA                                                
<A NAME="0515"></A>ROM.User:0515   a103            CMP         #0x3                                    
<A NAME="0517"></A>ROM.User:0517   26fb            BNE         <A HREF="#0514">LAB_0514</A>                                
<A NAME="0519"></A>ROM.User:0519   bde4            JSR         <A HREF="#00e4">ROM.PageZero:UartSendDataOnBus</A>          ;void UartSendDataOnBus(void)
<A NAME="051b"></A>ROM.User:051b   b764            STA         <A HREF="#0064">RAM:DAT_0064</A>                            
<A NAME="051d"></A>                            LAB_051d:                     ;XREF[1,0]:   <A HREF="#0510">0510</A>
ROM.User:051d   1201            BSET        PB1_FIFO_U7_LE,<A HREF="#0001">SFR:PORTB</A>                ;I/O port B
<A NAME="051f"></A>ROM.User:051f   20d5            BRA         <A HREF="#04f6">LAB_04f6</A>                                
<A NAME="0521"></A>                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined FUN_0521()
                                                          ;XREF[1,0]:   <A HREF="#06fb">06fb</A>
ROM.User:0521   b600            LDA         <A HREF="#0000">SFR:PORTA</A>                               ;I/O port A
<A NAME="0523"></A>ROM.User:0523   a110            CMP         #0x10                                   
<A NAME="0525"></A>ROM.User:0525   2606            BNE         <A HREF="#052d">LAB_052d</A>                                
<A NAME="0527"></A>ROM.User:0527   bde4            JSR         <A HREF="#00e4">ROM.PageZero:UartSendDataOnBus</A>          ;void UartSendDataOnBus(void)
<A NAME="0529"></A>ROM.User:0529   2000            BRA         <A HREF="#052b">LAB_052b</A>                                
<A NAME="052b"></A>                            LAB_052b:                     ;XREF[1,0]:   <A HREF="#0529">0529</A>
ROM.User:052b   2000            BRA         <A HREF="#052d">LAB_052d</A>                                
<A NAME="052d"></A>                            LAB_052d:                     ;XREF[2,0]:   <A HREF="#0525">0525</A>,<A HREF="#052b">052b</A>
ROM.User:052d   1201            BSET        PB1_FIFO_U7_LE,<A HREF="#0001">SFR:PORTB</A>                ;I/O port B
<A NAME="052f"></A>ROM.User:052f   aee1            LDX         #0xe1                                   
<A NAME="0531"></A>ROM.User:0531   cd06c1          JSR         <A HREF="#06c1">UartEscapeSendX</A>                         ;void UartEscapeSendX(byte value)
<A NAME="0534"></A>ROM.User:0534   1401            BSET        PB2_FIFO_TX_GATE,<A HREF="#0001">SFR:PORTB</A>              ;I/O port B
<A NAME="0536"></A>ROM.User:0536   1f54            BCLR        FLAGS54_7,<A HREF="#0054">RAM:FLAGS54</A>                   ;= FFh
<A NAME="0538"></A>ROM.User:0538   0b5402          BRCLR       FLAGS54_5,<A HREF="#0054">RAM:FLAGS54</A>,<A HREF="#053d">LAB_053d</A>          ;= FFh
<A NAME="053b"></A>ROM.User:053b   1154            BCLR        FLAGS54_0_MainCmdLock,<A HREF="#0054">RAM:FLAGS54</A>       ;= FFh
<A NAME="053d"></A>                            LAB_053d:                     ;XREF[1,0]:   <A HREF="#0538">0538</A>
ROM.User:053d   cc03d1          JMP         <A HREF="#03d1">ResetTimerAndGoAround</A>                   
<A NAME="0540"></A>                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;void CRC_Update(byte val)
          <A NAME="CRC_Update_val"></A>;val           byte                 A                      
                                                          ;XREF[2,0]:   <A HREF="#042b">042b</A>,<A HREF="#059c">059c</A>
ROM.User:0540   bf67            STX         <A HREF="#0067">RAM:saved_Xreg</A>                          ;save X
<A NAME="0542"></A>ROM.User:0542   b866            EOR         <A HREF="#0066">RAM:CRCAccumLow</A>                         
<A NAME="0544"></A>ROM.User:0544   b765            STA         <A HREF="#0065">RAM:CRCTemp</A>                             
<A NAME="0546"></A>ROM.User:0546   a40f            AND         #0xf                                    
<A NAME="0548"></A>ROM.User:0548   97              TAX                                                 
<A NAME="0549"></A>ROM.User:0549   b661            LDA         <A HREF="#0061">RAM:CRCAccumHigh</A>                        
<A NAME="054b"></A>ROM.User:054b   e880            EOR         <A HREF="#0080">ROM.PageZero:CRCTabHi,X</A>                 
<A NAME="054d"></A>ROM.User:054d   b766            STA         <A HREF="#0066">RAM:CRCAccumLow</A>                         
<A NAME="054f"></A>ROM.User:054f   e6a0            LDA         <A HREF="#00a0">ROM.PageZero:CRCTabLo,X</A>                 
<A NAME="0551"></A>ROM.User:0551   b761            STA         <A HREF="#0061">RAM:CRCAccumHigh</A>                        
<A NAME="0553"></A>ROM.User:0553   b665            LDA         <A HREF="#0065">RAM:CRCTemp</A>                             
<A NAME="0555"></A>ROM.User:0555   99              SEC                                                 
<A NAME="0556"></A>ROM.User:0556   46              RORA                                                
<A NAME="0557"></A>ROM.User:0557   44              LSRA                                                
<A NAME="0558"></A>ROM.User:0558   44              LSRA                                                
<A NAME="0559"></A>ROM.User:0559   44              LSRA                                                
<A NAME="055a"></A>ROM.User:055a   97              TAX                                                 
<A NAME="055b"></A>ROM.User:055b   b666            LDA         <A HREF="#0066">RAM:CRCAccumLow</A>                         
<A NAME="055d"></A>ROM.User:055d   e880            EOR         <A HREF="#0080">ROM.PageZero:CRCTabHi,X</A>                 
<A NAME="055f"></A>ROM.User:055f   b766            STA         <A HREF="#0066">RAM:CRCAccumLow</A>                         
<A NAME="0561"></A>ROM.User:0561   b661            LDA         <A HREF="#0061">RAM:CRCAccumHigh</A>                        
<A NAME="0563"></A>ROM.User:0563   e8a0            EOR         <A HREF="#00a0">ROM.PageZero:CRCTabLo,X</A>                 
<A NAME="0565"></A>ROM.User:0565   b761            STA         <A HREF="#0061">RAM:CRCAccumHigh</A>                        
<A NAME="0567"></A>ROM.User:0567   be67            LDX         <A HREF="#0067">RAM:saved_Xreg</A>                          ;restore and increment X
<A NAME="0569"></A>ROM.User:0569   5c              INCX                                                
<A NAME="056a"></A>ROM.User:056a   81              RTS                                                 
<A NAME="056b"></A>                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined UartSendThenCheck1006Ack()
                                                          ;XREF[2,0]:   <A HREF="#04cb">04cb</A>,<A HREF="#04dc">04dc</A>
ROM.User:056b   bde2            JSR         <A HREF="#00e2">ROM.PageZero:UartSendA</A>                  ;void UartSendA(byte val)
<A NAME="056d"></A>                            LAB_056d:                     ;XREF[2,0]:   <A HREF="#0571">0571</A>,<A HREF="#0577">0577</A>
ROM.User:056d   bdc8            JSR         <A HREF="#00c8">ROM.PageZero:UartRead</A>                   ;Read from UART
<A NAME="056f"></A>ROM.User:056f   a110            CMP         #0x10                                   
<A NAME="0571"></A>ROM.User:0571   26fa            BNE         <A HREF="#056d">LAB_056d</A>                                
<A NAME="0573"></A>ROM.User:0573   bdca            JSR         <A HREF="#00ca">ROM.PageZero:uartReadToBus</A>              ;undefined uartReadToBus()
<A NAME="0575"></A>ROM.User:0575   a106            CMP         #0x6                                    
<A NAME="0577"></A>ROM.User:0577   26f4            BNE         <A HREF="#056d">LAB_056d</A>                                
<A NAME="0579"></A>ROM.User:0579   1b01            BCLR        PB5_LINK_LED,<A HREF="#0001">SFR:PORTB</A>                  ;turn LINK LED on
<A NAME="057b"></A>ROM.User:057b   1b40            BCLR        0x5,<A HREF="#0040">RAM:DAT_0040</A>                        ;= 40h
<A NAME="057d"></A>ROM.User:057d   81              RTS                                                 
<A NAME="057e"></A>                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined FUN_057e()
                                                          ;XREF[2,0]:   <A HREF="#0442">0442</A>,<A HREF="#0471">0471</A>
ROM.User:057e   1454            BSET        FLAGS54_2,<A HREF="#0054">RAM:FLAGS54</A>                   ;= FFh
<A NAME="0580"></A>ROM.User:0580   ae00            LDX         #0x0                                    
<A NAME="0582"></A>                            LAB_0582:                     ;XREF[1,0]:   <A HREF="#05a1">05a1</A>
ROM.User:0582   1301            BCLR        PB1_FIFO_U7_LE,<A HREF="#0001">SFR:PORTB</A>                ;I/O port B
<A NAME="0584"></A>ROM.User:0584   b363            CPX         <A HREF="#0063">RAM:DAT_0063</A>                            
<A NAME="0586"></A>ROM.User:0586   2510            BCS         <A HREF="#0598">LAB_0598</A>                                
<A NAME="0588"></A>ROM.User:0588   b364            CPX         <A HREF="#0064">RAM:DAT_0064</A>                            
<A NAME="058a"></A>ROM.User:058a   220c            BHI         <A HREF="#0598">LAB_0598</A>                                
<A NAME="058c"></A>ROM.User:058c   9f              TXA                                                 
<A NAME="058d"></A>ROM.User:058d   b063            SUB         <A HREF="#0063">RAM:DAT_0063</A>                            
<A NAME="058f"></A>ROM.User:058f   97              TAX                                                 
<A NAME="0590"></A>ROM.User:0590   b600            LDA         <A HREF="#0000">SFR:PORTA</A>                               ;I/O port A
<A NAME="0592"></A>ROM.User:0592   e759            STA         <A HREF="#0059">RAM:cablePktHdr,X</A>                       
<A NAME="0594"></A>ROM.User:0594   9f              TXA                                                 
<A NAME="0595"></A>ROM.User:0595   bb63            ADD         <A HREF="#0063">RAM:DAT_0063</A>                            
<A NAME="0597"></A>ROM.User:0597   97              TAX                                                 
<A NAME="0598"></A>                            LAB_0598:                     ;XREF[2,0]:   <A HREF="#0586">0586</A>,<A HREF="#058a">058a</A>
ROM.User:0598   b600            LDA         <A HREF="#0000">SFR:PORTA</A>                               ;I/O port A
<A NAME="059a"></A>ROM.User:059a   1201            BSET        PB1_FIFO_U7_LE,<A HREF="#0001">SFR:PORTB</A>                ;I/O port B
<A NAME="059c"></A>ROM.User:059c   cd0540          JSR         <A HREF="#0540">CRC_Update</A>                              ;void CRC_Update(byte val)
<A NAME="059f"></A>ROM.User:059f   b362            CPX         <A HREF="#0062">RAM:temp62</A>                              
<A NAME="05a1"></A>ROM.User:05a1   23df            BLS         <A HREF="#0582">LAB_0582</A>                                
<A NAME="05a3"></A>ROM.User:05a3   b666            LDA         <A HREF="#0066">RAM:CRCAccumLow</A>                         
<A NAME="05a5"></A>ROM.User:05a5   a11d            CMP         #0x1d                                   
<A NAME="05a7"></A>ROM.User:05a7   2609            BNE         <A HREF="#05b2">LAB_05b2</A>                                
<A NAME="05a9"></A>ROM.User:05a9   b661            LDA         <A HREF="#0061">RAM:CRCAccumHigh</A>                        
<A NAME="05ab"></A>ROM.User:05ab   a10f            CMP         #0xf                                    
<A NAME="05ad"></A>ROM.User:05ad   2603            BNE         <A HREF="#05b2">LAB_05b2</A>                                
<A NAME="05af"></A>ROM.User:05af   98              CLC                                                 
<A NAME="05b0"></A>ROM.User:05b0   2003            BRA         <A HREF="#05b5">LAB_05b5</A>                                
<A NAME="05b2"></A>                            LAB_05b2:                     ;XREF[2,0]:   <A HREF="#05a7">05a7</A>,<A HREF="#05ad">05ad</A>
ROM.User:05b2   99              SEC                                                 
<A NAME="05b3"></A>ROM.User:05b3   3c52            INC         <A HREF="#0052">RAM:DAT_0052</A>                            ;= FFh
<A NAME="05b5"></A>                            LAB_05b5:                     ;XREF[1,0]:   <A HREF="#05b0">05b0</A>
ROM.User:05b5   1554            BCLR        FLAGS54_2,<A HREF="#0054">RAM:FLAGS54</A>                   ;= FFh
<A NAME="05b7"></A>ROM.User:05b7   81              RTS                                                 
<A NAME="05b8"></A>                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;Read byte from FIFO to A, store in cablePktHdr[X]
                            ;undefined rdAndStorePkHdByte()
                                                          ;XREF[4,0]:   <A HREF="#03ff">03ff</A>,<A HREF="#040a">040a</A>,<A HREF="#0497">0497</A>,<A HREF="#04b7">04b7</A>
ROM.User:05b8   1301            BCLR        PB1_FIFO_U7_LE,<A HREF="#0001">SFR:PORTB</A>                ;Read byte from FIFO to A, store in c...
<A NAME="05ba"></A>ROM.User:05ba   4f              CLRA                                                
<A NAME="05bb"></A>ROM.User:05bb   b600            LDA         <A HREF="#0000">SFR:PORTA</A>                               ;I/O port A
<A NAME="05bd"></A>ROM.User:05bd   1201            BSET        PB1_FIFO_U7_LE,<A HREF="#0001">SFR:PORTB</A>                ;I/O port B
<A NAME="05bf"></A>ROM.User:05bf   e759            STA         <A HREF="#0059">RAM:cablePktHdr,X</A>                       
<A NAME="05c1"></A>ROM.User:05c1   81              RTS                                                 
<A NAME="05c2"></A>                            ;************************************************************************************************
                            ;*                                  Main command handling loop                                  *
                            ;************************************************************************************************
                            ;void mainCommandHandlingLoop(void)
                                                          ;XREF[3,0]:   <A HREF="#03d8">03d8</A>,<A HREF="#05c6">05c6</A>,<A HREF="#05ca">05ca</A>
ROM.User:05c2   bdc8            JSR         <A HREF="#00c8">ROM.PageZero:UartRead</A>                   ;Read from UART
<A NAME="05c4"></A>ROM.User:05c4   a181            CMP         #0x81                                   ;Less than 0x81?
<A NAME="05c6"></A>ROM.User:05c6   25fa            BCS         <A HREF="#05c2">mainCommandHandlingLoop</A>                 ;if so, ignore
<A NAME="05c8"></A>ROM.User:05c8   a185            CMP         #0x85                                   ;Greater than 0x85?
<A NAME="05ca"></A>ROM.User:05ca   22f6            BHI         <A HREF="#05c2">mainCommandHandlingLoop</A>                 ;if so, ignore
<A NAME="05cc"></A>ROM.User:05cc   b762            STA         <A HREF="#0062">RAM:temp62</A>                              ;Save command byte
<A NAME="05ce"></A>ROM.User:05ce   ae06            LDX         #0x6                                    
<A NAME="05d0"></A>ROM.User:05d0   cd06c1          JSR         <A HREF="#06c1">UartEscapeSendX</A>                         ;void UartEscapeSendX(byte value)
<A NAME="05d3"></A>ROM.User:05d3   b662            LDA         <A HREF="#0062">RAM:temp62</A>                              
<A NAME="05d5"></A>ROM.User:05d5   a185            CMP         #0x85                                   
<A NAME="05d7"></A>ROM.User:05d7   2625            BNE         <A HREF="#05fe">not_cmd85_tune</A>                          
<A NAME="05d9"></A>                            ;CMD 0x85 -> Tune
ROM.User:05d9   bdc8            JSR         <A HREF="#00c8">ROM.PageZero:UartRead</A>                   ;Read from UART
<A NAME="05db"></A>ROM.User:05db   b762            STA         <A HREF="#0062">RAM:temp62</A>                              
<A NAME="05dd"></A>ROM.User:05dd   bdc8            JSR         <A HREF="#00c8">ROM.PageZero:UartRead</A>                   ;Read from UART
<A NAME="05df"></A>ROM.User:05df   b763            STA         <A HREF="#0063">RAM:DAT_0063</A>                            
<A NAME="05e1"></A>ROM.User:05e1   aeff            LDX         #0xff                                   ;PORTA all outputs
<A NAME="05e3"></A>ROM.User:05e3   bf04            STX         <A HREF="#0004">SFR:DDRA</A>                                ;Port A DDR
<A NAME="05e5"></A>ROM.User:05e5   b662            LDA         <A HREF="#0062">RAM:temp62</A>                              
<A NAME="05e7"></A>ROM.User:05e7   cd03c0          JSR         <A HREF="#03c0">pll_WriteByte</A>                           ;void pll_WriteByte(byte pllbyte)
<A NAME="05ea"></A>ROM.User:05ea   b663            LDA         <A HREF="#0063">RAM:DAT_0063</A>                            
<A NAME="05ec"></A>ROM.User:05ec   cd03c0          JSR         <A HREF="#03c0">pll_WriteByte</A>                           ;void pll_WriteByte(byte pllbyte)
<A NAME="05ef"></A>ROM.User:05ef   1e01            BSET        PB7_PLL_ENB,<A HREF="#0001">SFR:PORTB</A>                   ;I/O port B
<A NAME="05f1"></A>ROM.User:05f1   1f01            BCLR        PB7_PLL_ENB,<A HREF="#0001">SFR:PORTB</A>                   ;I/O port B
<A NAME="05f3"></A>ROM.User:05f3   b608            LDA         <A HREF="#0008">SFR:TIMER</A>                               ;Timer data register
<A NAME="05f5"></A>ROM.User:05f5   a02d            SUB         #0x2d                                   
<A NAME="05f7"></A>                            wait_timer:                   ;XREF[1,0]:   <A HREF="#05f9">05f9</A>
ROM.User:05f7   b108            CMP         <A HREF="#0008">SFR:TIMER</A>                               ;Timer data register
<A NAME="05f9"></A>ROM.User:05f9   26fc            BNE         <A HREF="#05f7">wait_timer</A>                              
<A NAME="05fb"></A>ROM.User:05fb   cc067b          JMP         <A HREF="#067b">LAB_067b</A>                                
<A NAME="05fe"></A>                            not_cmd85_tune:               ;XREF[1,0]:   <A HREF="#05d7">05d7</A>
ROM.User:05fe   a184            CMP         #0x84                                   
<A NAME="0600"></A>ROM.User:0600   2613            BNE         <A HREF="#0615">not_cmd84</A>                               
<A NAME="0602"></A>                            ;CMD 0x84 -> load segment
ROM.User:0602   ae03            LDX         #0x3                                    ;get 4 bytes of segment address -> RA...
<A NAME="0604"></A>                            get_segm_loop:                ;XREF[1,0]:   <A HREF="#0609">0609</A>
ROM.User:0604   bdc8            JSR         <A HREF="#00c8">ROM.PageZero:UartRead</A>                   ;Read from UART
<A NAME="0606"></A>ROM.User:0606   e755            STA         <A HREF="#0055">RAM:reqSegmAddress,X</A>                    ;Requested segment address
<A NAME="0608"></A>ROM.User:0608   5a              DECX                                                
<A NAME="0609"></A>ROM.User:0609   2af9            BPL         <A HREF="#0604">get_segm_loop</A>                           
<A NAME="060b"></A>ROM.User:060b   0f5503          BRCLR       0x7,<A HREF="#0055">RAM:reqSegmAddress</A>,<A HREF="#0611">lastbyte_msb_set</A> ;Requested segment address
<A NAME="060e"></A>ROM.User:060e   cc0675          JMP         <A HREF="#0675">LAB_0675</A>                                
<A NAME="0611"></A>                            lastbyte_msb_set:             ;XREF[1,0]:   <A HREF="#060b">060b</A>
ROM.User:0611   1054            BSET        FLAGS54_0_MainCmdLock,<A HREF="#0054">RAM:FLAGS54</A>       ;= FFh
<A NAME="0613"></A>ROM.User:0613   2066            BRA         <A HREF="#067b">LAB_067b</A>                                
<A NAME="0615"></A>                            not_cmd84:                    ;XREF[1,0]:   <A HREF="#0600">0600</A>
ROM.User:0615   a183            CMP         #0x83                                   
<A NAME="0617"></A>ROM.User:0617   2604            BNE         <A HREF="#061d">not_cmd83</A>                               
<A NAME="0619"></A>                            ;CMD83 -> 
ROM.User:0619   1154            BCLR        FLAGS54_0_MainCmdLock,<A HREF="#0054">RAM:FLAGS54</A>       ;= FFh
<A NAME="061b"></A>ROM.User:061b   2062            BRA         <A HREF="#067f">LAB_067f</A>                                
<A NAME="061d"></A>                            not_cmd83:                    ;XREF[1,0]:   <A HREF="#0617">0617</A>
ROM.User:061d   a182            CMP         #0x82                                   
<A NAME="061f"></A>ROM.User:061f   2627            BNE         <A HREF="#0648">not_cmd82</A>                               
<A NAME="0621"></A>                            ;CMD82 -> ?
ROM.User:0621   bdc8            JSR         <A HREF="#00c8">ROM.PageZero:UartRead</A>                   ;Read from UART
<A NAME="0623"></A>ROM.User:0623   a100            CMP         #0x0                                    
<A NAME="0625"></A>ROM.User:0625   274e            BEQ         <A HREF="#0675">LAB_0675</A>                                
<A NAME="0627"></A>ROM.User:0627   a140            CMP         #0x40                                   
<A NAME="0629"></A>ROM.User:0629   2302            BLS         <A HREF="#062d">LAB_062d</A>                                
<A NAME="062b"></A>ROM.User:062b   a640            LDA         #0x40                                   
<A NAME="062d"></A>                            LAB_062d:                     ;XREF[1,0]:   <A HREF="#0629">0629</A>
ROM.User:062d   b763            STA         <A HREF="#0063">RAM:DAT_0063</A>                            
<A NAME="062f"></A>ROM.User:062f   5f              CLRX                                                
<A NAME="0630"></A>ROM.User:0630   a6ff            LDA         #0xff                                   
<A NAME="0632"></A>ROM.User:0632   b704            STA         <A HREF="#0004">SFR:DDRA</A>                                ;Port A DDR
<A NAME="0634"></A>                            LAB_0634:                     ;XREF[1,0]:   <A HREF="#063b">063b</A>
ROM.User:0634   e640            LDA         <A HREF="#0040">RAM:DAT_0040,X</A>                          ;= 40h
<A NAME="0636"></A>ROM.User:0636   bdd5            JSR         <A HREF="#00d5">ROM.PageZero:UartSendAWithEscChk</A>        ;undefined UartSendAWithEscChk()
<A NAME="0638"></A>ROM.User:0638   5c              INCX                                                
<A NAME="0639"></A>ROM.User:0639   b363            CPX         <A HREF="#0063">RAM:DAT_0063</A>                            
<A NAME="063b"></A>ROM.User:063b   25f7            BCS         <A HREF="#0634">LAB_0634</A>                                
<A NAME="063d"></A>ROM.User:063d   aee1            LDX         #0xe1                                   
<A NAME="063f"></A>ROM.User:063f   cd06c1          JSR         <A HREF="#06c1">UartEscapeSendX</A>                         ;void UartEscapeSendX(byte value)
<A NAME="0642"></A>ROM.User:0642   1b01            BCLR        0x5,<A HREF="#0001">SFR:PORTB</A>                           ;I/O port B
<A NAME="0644"></A>ROM.User:0644   1b40            BCLR        0x5,<A HREF="#0040">RAM:DAT_0040</A>                        ;= 40h
<A NAME="0646"></A>ROM.User:0646   203f            BRA         <A HREF="#0687">LAB_0687</A>                                
<A NAME="0648"></A>                            not_cmd82:                    ;XREF[1,0]:   <A HREF="#061f">061f</A>
ROM.User:0648   bdc8            JSR         <A HREF="#00c8">ROM.PageZero:UartRead</A>                   ;Read from UART
<A NAME="064a"></A>ROM.User:064a   b762            STA         <A HREF="#0062">RAM:temp62</A>                              
<A NAME="064c"></A>ROM.User:064c   bdca            JSR         <A HREF="#00ca">ROM.PageZero:uartReadToBus</A>              ;undefined uartReadToBus()
<A NAME="064e"></A>ROM.User:064e   b462            AND         <A HREF="#0062">RAM:temp62</A>                              
<A NAME="0650"></A>ROM.User:0650   b763            STA         <A HREF="#0063">RAM:DAT_0063</A>                            
<A NAME="0652"></A>ROM.User:0652   3362            COM         <A HREF="#0062">RAM:temp62</A>                              
<A NAME="0654"></A>ROM.User:0654   b640            LDA         <A HREF="#0040">RAM:DAT_0040</A>                            ;= 40h
<A NAME="0656"></A>ROM.User:0656   b462            AND         <A HREF="#0062">RAM:temp62</A>                              
<A NAME="0658"></A>ROM.User:0658   ba63            ORA         <A HREF="#0063">RAM:DAT_0063</A>                            
<A NAME="065a"></A>ROM.User:065a   b740            STA         <A HREF="#0040">RAM:DAT_0040</A>                            ;= 40h
<A NAME="065c"></A>ROM.User:065c   a40f            AND         #0xf                                    
<A NAME="065e"></A>ROM.User:065e   a003            SUB         #0x3                                    
<A NAME="0660"></A>ROM.User:0660   2a01            BPL         <A HREF="#0663">LAB_0663</A>                                
<A NAME="0662"></A>ROM.User:0662   4f              CLRA                                                
<A NAME="0663"></A>                            LAB_0663:                     ;XREF[1,0]:   <A HREF="#0660">0660</A>
ROM.User:0663   b768            STA         <A HREF="#0068">RAM:uartTxCharDelay</A>                     ;UART inter-character delay
<A NAME="0665"></A>ROM.User:0665   b640            LDA         <A HREF="#0040">RAM:DAT_0040</A>                            ;= 40h
<A NAME="0667"></A>ROM.User:0667   a430            AND         #0x30                                   
<A NAME="0669"></A>ROM.User:0669   b762            STA         <A HREF="#0062">RAM:temp62</A>                              
<A NAME="066b"></A>ROM.User:066b   b601            LDA         <A HREF="#0001">SFR:PORTB</A>                               ;I/O port B
<A NAME="066d"></A>ROM.User:066d   a4cf            AND         #0xcf                                   
<A NAME="066f"></A>ROM.User:066f   ba62            ORA         <A HREF="#0062">RAM:temp62</A>                              
<A NAME="0671"></A>ROM.User:0671   b701            STA         <A HREF="#0001">SFR:PORTB</A>                               ;I/O port B
<A NAME="0673"></A>ROM.User:0673   2006            BRA         <A HREF="#067b">LAB_067b</A>                                
<A NAME="0675"></A>                            LAB_0675:                     ;XREF[2,0]:   <A HREF="#060e">060e</A>,<A HREF="#0625">0625</A>
ROM.User:0675   1154            BCLR        FLAGS54_0_MainCmdLock,<A HREF="#0054">RAM:FLAGS54</A>       ;= FFh
<A NAME="0677"></A>ROM.User:0677   a6e2            LDA         #0xe2                                   
<A NAME="0679"></A>ROM.User:0679   2006            BRA         <A HREF="#0681">LAB_0681</A>                                
<A NAME="067b"></A>                            LAB_067b:                     ;XREF[3,0]:   <A HREF="#05fb">05fb</A>,<A HREF="#0613">0613</A>,<A HREF="#0673">0673</A>
ROM.User:067b   1b01            BCLR        PB5_LINK_LED,<A HREF="#0001">SFR:PORTB</A>                  ;turn LINK LED on
<A NAME="067d"></A>ROM.User:067d   1b40            BCLR        0x5,<A HREF="#0040">RAM:DAT_0040</A>                        ;= 40h
<A NAME="067f"></A>                            LAB_067f:                     ;XREF[1,0]:   <A HREF="#061b">061b</A>
ROM.User:067f   a6e4            LDA         #0xe4                                   
<A NAME="0681"></A>                            LAB_0681:                     ;XREF[1,0]:   <A HREF="#0679">0679</A>
ROM.User:0681   aeff            LDX         #0xff                                   
<A NAME="0683"></A>ROM.User:0683   bf04            STX         <A HREF="#0004">SFR:DDRA</A>                                ;Port A DDR
<A NAME="0685"></A>ROM.User:0685   bde2            JSR         <A HREF="#00e2">ROM.PageZero:UartSendA</A>                  ;void UartSendA(byte val)
<A NAME="0687"></A>                            LAB_0687:                     ;XREF[1,0]:   <A HREF="#0646">0646</A>
ROM.User:0687   81              RTS                                                 
<A NAME="0688"></A>                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;void handleMessage(byte messageIxByte)
          <A NAME="handleMessage_messageIxByte"></A>;messageIxByte byte                 A                      
                                                          ;XREF[1,0]:   <A HREF="#0415">0415</A>
ROM.User:0688   1901            BCLR        PB4_MESSAGE_LED,<A HREF="#0001">SFR:PORTB</A>               ;MESSAGE LED on
<A NAME="068a"></A>ROM.User:068a   1754            BCLR        FLAGS54_3,<A HREF="#0054">RAM:FLAGS54</A>                   ;= FFh
<A NAME="068c"></A>ROM.User:068c   aeff            LDX         #0xff                                   ;PORTA all outputs (take control of t...
<A NAME="068e"></A>ROM.User:068e   bf04            STX         <A HREF="#0004">SFR:DDRA</A>                                ;Port A DDR
<A NAME="0690"></A>ROM.User:0690   bde2            JSR         <A HREF="#00e2">ROM.PageZero:UartSendA</A>                  ;Tx A-reg value to NPC
<A NAME="0692"></A>ROM.User:0692   3f04            CLR         <A HREF="#0004">SFR:DDRA</A>                                ;PORTA back to input mode
<A NAME="0694"></A>ROM.User:0694   bdc1            JSR         <A HREF="#00c1">ROM.PageZero:UartReadWithDelay</A>          ;See if the NPC sent anything back
<A NAME="0696"></A>ROM.User:0696   a1f0            CMP         #0xf0                                   
<A NAME="0698"></A>ROM.User:0698   2702            BEQ         <A HREF="#069c">npc_sent_F0</A>                             
<A NAME="069a"></A>ROM.User:069a   1654            BSET        FLAGS54_3,<A HREF="#0054">RAM:FLAGS54</A>                   ;= FFh
<A NAME="069c"></A>                            npc_sent_F0:                  ;XREF[1,0]:   <A HREF="#0698">0698</A>
ROM.User:069c   ae04            LDX         #0x4                                    ;NPC sent us an 0xF0. Prep to read 4 ...
<A NAME="069e"></A>ROM.User:069e   1501            BCLR        PB2_FIFO_TX_GATE,<A HREF="#0001">SFR:PORTB</A>              ;I/O port B
<A NAME="06a0"></A>                            compare_loop:                 ;XREF[1,0]:   <A HREF="#06ae">06ae</A>
ROM.User:06a0   1301            BCLR        PB1_FIFO_U7_LE,<A HREF="#0001">SFR:PORTB</A>                ;I/O port B
<A NAME="06a2"></A>ROM.User:06a2   1201            BSET        PB1_FIFO_U7_LE,<A HREF="#0001">SFR:PORTB</A>                ;I/O port B
<A NAME="06a4"></A>ROM.User:06a4   bdc1            JSR         <A HREF="#00c1">ROM.PageZero:UartReadWithDelay</A>          ;Wait for 11 loops, then read from UART
<A NAME="06a6"></A>ROM.User:06a6   d106bc          CMP         <A HREF="#06bc">DAT_06bc,X</A>                              ;= E6h
<A NAME="06a9"></A>ROM.User:06a9   2702            BEQ         <A HREF="#06ad">LAB_06ad</A>                                
<A NAME="06ab"></A>ROM.User:06ab   1654            BSET        FLAGS54_3,<A HREF="#0054">RAM:FLAGS54</A>                   ;= FFh
<A NAME="06ad"></A>                            LAB_06ad:                     ;XREF[1,0]:   <A HREF="#06a9">06a9</A>
ROM.User:06ad   5a              DECX                                                
<A NAME="06ae"></A>ROM.User:06ae   2af0            BPL         <A HREF="#06a0">compare_loop</A>                            
<A NAME="06b0"></A>ROM.User:06b0   1401            BSET        PB2_FIFO_TX_GATE,<A HREF="#0001">SFR:PORTB</A>              ;I/O port B
<A NAME="06b2"></A>ROM.User:06b2   065404          BRSET       FLAGS54_3,<A HREF="#0054">RAM:FLAGS54</A>,<A HREF="#06b9">link_led_off</A>      ;= FFh
<A NAME="06b5"></A>ROM.User:06b5   1b01            BCLR        PB5_LINK_LED,<A HREF="#0001">SFR:PORTB</A>                  ;Link LED on
<A NAME="06b7"></A>ROM.User:06b7   2002            BRA         <A HREF="#06bb">end</A>                                     
<A NAME="06b9"></A>                            link_led_off:                 ;XREF[1,0]:   <A HREF="#06b2">06b2</A>
ROM.User:06b9   1a01            BSET        PB5_LINK_LED,<A HREF="#0001">SFR:PORTB</A>                  ;I/O port B
<A NAME="06bb"></A>                            end:                          ;XREF[1,0]:   <A HREF="#06b7">06b7</A>
ROM.User:06bb   81              RTS                                                 
<A NAME="06bc"></A>                            DAT_06bc:                     ;XREF[1,0]:   <A HREF="#06a6">06a6</A>
ROM.User:06bc   e6              ??          E6h                                     
<A NAME="06bd"></A>ROM.User:06bd   a8              ??          A8h                                     
<A NAME="06be"></A>ROM.User:06be   cc              ??          CCh                                     
<A NAME="06bf"></A>ROM.User:06bf   aa              ??          AAh                                     
<A NAME="06c0"></A>ROM.User:06c0   0f              undefined1  0Fh                                     
<A NAME="06c1"></A>                            ;************************************************************************************************
                            ;*                   UART: Send character in X, preceded with 10h escape code                   *
                            ;************************************************************************************************
                            ;void UartEscapeSendX(byte value)
          <A NAME="UartEscapeSendX_value"></A>;value         byte                 X                      
                                                          ;XREF[3,0]:   <A HREF="#0531">0531</A>,<A HREF="#05d0">05d0</A>,<A HREF="#063f">063f</A>
ROM.User:06c1   a6ff            LDA         #0xff                                   ;PORTA all outputs
<A NAME="06c3"></A>ROM.User:06c3   b704            STA         <A HREF="#0004">SFR:DDRA</A>                                ;Port A DDR
<A NAME="06c5"></A>ROM.User:06c5   bde0            JSR         <A HREF="#00e0">ROM.PageZero:UartSendEscape</A>             ;Send 0x10 escape character
<A NAME="06c7"></A>ROM.User:06c7   c606d1          LDA         <A HREF="#06d1">InterEscapeDelay</A>                        ;= 03h
<A NAME="06ca"></A>                            delay_loop:                   ;XREF[1,0]:   <A HREF="#06cb">06cb</A>
ROM.User:06ca   4a              DECA                                                
<A NAME="06cb"></A>ROM.User:06cb   26fd            BNE         <A HREF="#06ca">delay_loop</A>                              
<A NAME="06cd"></A>ROM.User:06cd   9f              TXA                                                 
<A NAME="06ce"></A>ROM.User:06ce   bde2            JSR         <A HREF="#00e2">ROM.PageZero:UartSendA</A>                  ;void UartSendA(byte val)
<A NAME="06d0"></A>ROM.User:06d0   81              RTS                                                 
<A NAME="06d1"></A>                            InterEscapeDelay:             ;XREF[1,0]:   <A HREF="#06c7">06c7</A>
ROM.User:06d1   03              ??          03h                                     
<A NAME="06d2"></A>                            ;************************************************************************************************
                            ;*  Timer interrupt handler                                                                     *
                            ;*                                                                                              *
                            ;*  The timer pin has a ~1.066kHz external clock, divided by                                    *
                            ;*  16 by the 6805P2's internal prescaler, giving:                                              *
                            ;*    F = 1066 / 16 ~= 66.625 Hz                                                                *
                            ;*    T = 1 / F     ~= 15ms                                                                     *
                            ;*                                                                                              *
                            ;*  This interrupt fires when the timer data register                                           *
                            ;*  (which counts down) reaches zero.                                                           *
                            ;************************************************************************************************
                            ;undefined _TIMER_ENTRY()
                                                          ;XREF[1,0]:   <A HREF="#07f8">07f8</A>
ROM.User:06d2   3c51            INC         <A HREF="#0051">RAM:DAT_0051</A>                            ;= FFh
<A NAME="06d4"></A>ROM.User:06d4   1f09            BCLR        TCR_TIR,<A HREF="#0009">SFR:TCR</A>                         ;Clear timer interrupt flag
<A NAME="06d6"></A>ROM.User:06d6   000104          BRSET       PB0_FIFO_RX_ARM,<A HREF="#0001">SFR:PORTB</A>,<A HREF="#06dd">fifo_is_armed</A> ;FIFO armed?
<A NAME="06d9"></A>ROM.User:06d9   1154            BCLR        FLAGS54_0_MainCmdLock,<A HREF="#0054">RAM:FLAGS54</A>       ;clear FLAGS54.0
<A NAME="06db"></A>ROM.User:06db   2003            BRA         <A HREF="#06e0">turnLedsOff</A>                             
<A NAME="06dd"></A>                            fifo_is_armed:                ;XREF[1,0]:   <A HREF="#06d6">06d6</A>
ROM.User:06dd   0d5404          BRCLR       FLAGS54_6...,<A HREF="#0054">RAM:FLAGS54</A>,<A HREF="#06e4">flags54_6_is...</A>;leave LEDs alone if FIFO armed and n...
<A NAME="06e0"></A>                            turnLedsOff:                  ;XREF[1,0]:   <A HREF="#06db">06db</A>
ROM.User:06e0   1a01            BSET        PB5_LINK_LED,<A HREF="#0001">SFR:PORTB</A>                  ;Turn link LED off
<A NAME="06e2"></A>ROM.User:06e2   1801            BSET        PB4_MESSAGE_LED,<A HREF="#0001">SFR:PORTB</A>               ;Turn message LED off
<A NAME="06e4"></A>                            flags54_6_is_off:             ;XREF[1,0]:   <A HREF="#06dd">06dd</A>
ROM.User:06e4   cc0769          JMP         <A HREF="#0769">reset_main_loop</A>                         ;undefined reset_main_loop()
<A NAME="06e7"></A>                            ;************************************************************************************************
                            ;*                                External IRQ interrupt handler                                *
                            ;************************************************************************************************
                            ;undefined _IRQ_ENTRY()
                                                          ;XREF[1,0]:   <A HREF="#07fa">07fa</A>
ROM.User:06e7   010105          BRCLR       PB0_FIFO_RX_ARM,<A HREF="#0001">SFR:PORTB</A>,<A HREF="#06ef">fifo_not_armed</A>;I/O port B
<A NAME="06ea"></A>ROM.User:06ea   9c              RSP                                                 ;reset stack pointer, unmask IRQs and...
                                                                                    ;  (restart program)
<A NAME="06eb"></A>ROM.User:06eb   9a              CLI                                                 
<A NAME="06ec"></A>ROM.User:06ec   cc03df          JMP         <A HREF="#03df">HandleIncomingPacket</A>                    ;undefined HandleIncomingPacket()
<A NAME="06ef"></A>                            ;fifo arm bit (PB0) clear
                            fifo_not_armed:               ;XREF[1,0]:   <A HREF="#06e7">06e7</A>
ROM.User:06ef   0e5407          BRSET       FLAGS54_7,<A HREF="#0054">RAM:FLAGS54</A>,<A HREF="#06f9">LAB_06f9</A>          ;= FFh
<A NAME="06f2"></A>ROM.User:06f2   040109          BRSET       PB2_FIFO_TX_GATE,<A HREF="#0001">SFR:PORTB</A>,<A HREF="#06fe">fifo_txing</A>   ;FIFO -> UART gate enabled?
<A NAME="06f5"></A>ROM.User:06f5   5d              TSTX                                                ;test value of X
<A NAME="06f6"></A>ROM.User:06f6   2613            BNE         <A HREF="#070b">leds_off</A>                                ;if nonzero -> LEDs off
<A NAME="06f8"></A>ROM.User:06f8   80              RTI                                                 
<A NAME="06f9"></A>                            LAB_06f9:                     ;XREF[1,0]:   <A HREF="#06ef">06ef</A>
ROM.User:06f9   9c              RSP                                                 ;reset stack pointer
<A NAME="06fa"></A>ROM.User:06fa   9a              CLI                                                 ;interrupts on
<A NAME="06fb"></A>ROM.User:06fb   cc0521          JMP         <A HREF="#0521">FUN_0521</A>                                ;undefined FUN_0521()
<A NAME="06fe"></A>                            ;FIFO data is being streamed to the UART
                            fifo_txing:                   ;XREF[1,0]:   <A HREF="#06f2">06f2</A>
ROM.User:06fe   055405          BRCLR       FLAGS54_2,<A HREF="#0054">RAM:FLAGS54</A>,<A HREF="#0706">LAB_0706</A>          ;= FFh
<A NAME="0701"></A>ROM.User:0701   b362            CPX         <A HREF="#0062">RAM:temp62</A>                              
<A NAME="0703"></A>ROM.User:0703   2501            BCS         <A HREF="#0706">LAB_0706</A>                                
<A NAME="0705"></A>ROM.User:0705   80              RTI                                                 
<A NAME="0706"></A>                            LAB_0706:                     ;XREF[2,0]:   <A HREF="#06fe">06fe</A>,<A HREF="#0703">0703</A>
ROM.User:0706   3c53            INC         <A HREF="#0053">RAM:DAT_0053</A>                            ;= FFh
<A NAME="0708"></A>ROM.User:0708   0d5404          BRCLR       FLAGS54_6...,<A HREF="#0054">RAM:FLAGS54</A>,<A HREF="#070f">LAB_070f</A>       ;= FFh
<A NAME="070b"></A>                            ;Turn message and link LEDs off
                            leds_off:                     ;XREF[1,0]:   <A HREF="#06f6">06f6</A>
ROM.User:070b   1801            BSET        PB4_MESSAGE_LED,<A HREF="#0001">SFR:PORTB</A>               ;I/O port B
<A NAME="070d"></A>ROM.User:070d   1a01            BSET        PB5_LINK_LED,<A HREF="#0001">SFR:PORTB</A>                  ;I/O port B
<A NAME="070f"></A>                            LAB_070f:                     ;XREF[1,0]:   <A HREF="#0708">0708</A>
ROM.User:070f   2058            BRA         <A HREF="#0769">reset_main_loop</A>                         ;undefined reset_main_loop()
<A NAME="0711"></A>                            ;************************************************************************************************
                            ;*                                         Reset vector                                         *
                            ;************************************************************************************************
                            ;undefined _RESET_ENTRY()
                                                          ;XREF[1,0]:   <A HREF="#07fe">07fe</A>
ROM.User:0711   9b              SEI                                                 ;Set interrupt mask bit (disable inte...
<A NAME="0712"></A>                            ;Clear RAM from 0x40 to 0x7F inclusive
ROM.User:0712   ae40            LDX         #0x40                                   
<A NAME="0714"></A>                            ramclear_loop:                ;XREF[1,0]:   <A HREF="#0716">0716</A>
                                                          ; FWD[2,0]:   <A HREF="#0040">0040</A>,<A HREF="#0041">0041</A>
ROM.User:0714   7f              CLR         <A HREF="#0040">X=>RAM:DAT_0040</A>                         ;= 40h
                                                                                    ;= 9Dh
<A NAME="0715"></A>ROM.User:0715   5c              INCX                                                
<A NAME="0716"></A>ROM.User:0716   2afc            BPL         <A HREF="#0714">ramclear_loop</A>                           
<A NAME="0718"></A>ROM.User:0718   a63e            LDA         #0x3e                                   ;Init portb initial values
<A NAME="071a"></A>ROM.User:071a   b701            STA         <A HREF="#0001">SFR:PORTB</A>                               ;I/O port B
<A NAME="071c"></A>ROM.User:071c   3f05            CLR         <A HREF="#0005">SFR:DDRB</A>                                ;Port B all inputs
<A NAME="071e"></A>ROM.User:071e   0e0102          BRSET       PB7_PLL_ENB,<A HREF="#0001">SFR:PORTB</A>,<A HREF="#0723">pllEnbIsHigh</A>      ;Bit 7 (P2 from PLL) set?
<A NAME="0721"></A>ROM.User:0721   1c54            BSET        FLAGS54_6_EnableMsgRx,<A HREF="#0054">RAM:FLAGS54</A>       ;= FFh
<A NAME="0723"></A>                            pllEnbIsHigh:                 ;XREF[1,0]:   <A HREF="#071e">071e</A>
ROM.User:0723   080119          BRSET       PB4_MESSAGE_LED,<A HREF="#0001">SFR:PORTB</A>,<A HREF="#073f">pb4IsSet</A>      ;I/O port B
<A NAME="0726"></A>ROM.User:0726   a6ef            LDA         #0xef                                   
<A NAME="0728"></A>ROM.User:0728   b705            STA         <A HREF="#0005">SFR:DDRB</A>                                ;Port B all outputs except PB4
<A NAME="072a"></A>ROM.User:072a   1501            BCLR        0x2,<A HREF="#0001">SFR:PORTB</A>                           ;I/O port B
<A NAME="072c"></A>ROM.User:072c   3f04            CLR         <A HREF="#0004">SFR:DDRA</A>                                ;Port A (FIFO/UART bus) all inputs
<A NAME="072e"></A>                            ;Seems to be some kind of test loop.
                            ;Endlessly arms the FIFO, reads 7 bytes, repeats.
                            selftestCycleLoop:            ;XREF[1,0]:   <A HREF="#073d">073d</A>
ROM.User:072e   1001            BSET        PB0_FIFO_RX_ARM,<A HREF="#0001">SFR:PORTB</A>               ;Strobe PB0 (clock U32A)
                                                                                    ;  -> PAL P12=1 and ???
<A NAME="0730"></A>ROM.User:0730   1101            BCLR        PB0_FIFO_RX_ARM,<A HREF="#0001">SFR:PORTB</A>               ;I/O port B
<A NAME="0732"></A>ROM.User:0732   ae07            LDX         #0x7                                    ;Read 7 bytes
<A NAME="0734"></A>                            uartReadLoop:                 ;XREF[1,0]:   <A HREF="#073b">073b</A>
ROM.User:0734   1301            BCLR        PB1_FIFO_U7_LE,<A HREF="#0001">SFR:PORTB</A>                ;Strobe PB1 low -> FIFO read latch
<A NAME="0736"></A>ROM.User:0736   1201            BSET        PB1_FIFO_U7_LE,<A HREF="#0001">SFR:PORTB</A>                ;I/O port B
<A NAME="0738"></A>ROM.User:0738   bdc1            JSR         <A HREF="#00c1">ROM.PageZero:UartReadWithDelay</A>          ;Wait for 11 loops, then read from UART
<A NAME="073a"></A>ROM.User:073a   5a              DECX                                                ;Decrement X (counter)
<A NAME="073b"></A>ROM.User:073b   26f7            BNE         <A HREF="#0734">uartReadLoop</A>                            
<A NAME="073d"></A>ROM.User:073d   20ef            BRA         <A HREF="#072e">selftestCycleLoop</A>                       
<A NAME="073f"></A>                            ;we get here if ENB is high and PB4 (message LED) is set
                            ;  this seems odd, they're both outputs... but they ARE on
                            ;  the external connectors, so can be tied to ground for
                            ;  testing.
                            pb4IsSet:                     ;XREF[1,0]:   <A HREF="#0723">0723</A>
ROM.User:073f   a6ff            LDA         #0xff                                   ;Port B all outputs
<A NAME="0741"></A>ROM.User:0741   b705            STA         <A HREF="#0005">SFR:DDRB</A>                                ;Port B DDR
<A NAME="0743"></A>ROM.User:0743   3f06            CLR         <A HREF="#0006">SFR:DDRC</A>                                ;Port C all inputs
<A NAME="0745"></A>                            ;Set up timer
                            ;  TIR=TIM=0, clear flag, unmask interrupts
                            ;  TIN=1, timer input from external source
                            ;  TIE=1, external timer pin enabled
                            ;  PSC=1, prescaler clear
                            ;  PS=100, prescaler = 16
ROM.User:0745   a63c            LDA         #0x3c                                   
<A NAME="0747"></A>ROM.User:0747   b709            STA         <A HREF="#0009">SFR:TCR</A>                                 ;Timer control register
<A NAME="0749"></A>                            ;set up variables
ROM.User:0749   a640            LDA         #0x40                                   
<A NAME="074b"></A>ROM.User:074b   b749            STA         <A HREF="#0049">RAM:DAT_0049</A>                            ;= 9Dh
<A NAME="074d"></A>ROM.User:074d   a6bf            LDA         #0xbf                                   
<A NAME="074f"></A>ROM.User:074f   b740            STA         <A HREF="#0040">RAM:DAT_0040</A>                            ;= 40h
<A NAME="0751"></A>ROM.User:0751   a60c            LDA         #0xc                                    
<A NAME="0753"></A>ROM.User:0753   b768            STA         <A HREF="#0068">RAM:uartTxCharDelay</A>                     ;UART inter-character delay
<A NAME="0755"></A>                            ;Port A all outputs, sending 0xFF
ROM.User:0755   3f00            CLR         <A HREF="#0000">SFR:PORTA</A>                               ;I/O port A
<A NAME="0757"></A>ROM.User:0757   a6ff            LDA         #0xff                                   
<A NAME="0759"></A>ROM.User:0759   b704            STA         <A HREF="#0004">SFR:DDRA</A>                                ;Port A DDR
<A NAME="075b"></A>                            ;Send tuning word to PLL, MSB to LSB.
                            ;  0x0144 => SW1,SW2 = 00. N=324
                            ;
                            ;  8MHz Ref Osc, x64 prescaler
                            ;
                            ;  8,000,000 / R -> 15625 Hz
                            ;  F_in / 64 / R=324 = 15625, so F_in = 324.
ROM.User:075b   a601            LDA         #0x1                                    
<A NAME="075d"></A>ROM.User:075d   cd03c0          JSR         <A HREF="#03c0">pll_WriteByte</A>                           ;void pll_WriteByte(byte pllbyte)
<A NAME="0760"></A>ROM.User:0760   a644            LDA         #0x44                                   
<A NAME="0762"></A>ROM.User:0762   cd03c0          JSR         <A HREF="#03c0">pll_WriteByte</A>                           ;void pll_WriteByte(byte pllbyte)
<A NAME="0765"></A>                            ;Toggle PLL ENB pin
ROM.User:0765   1e01            BSET        PB7_PLL_ENB,<A HREF="#0001">SFR:PORTB</A>                   ;I/O port B
<A NAME="0767"></A>ROM.User:0767   1f01            BCLR        PB7_PLL_ENB,<A HREF="#0001">SFR:PORTB</A>                   ;I/O port B
<A NAME="0769"></A>                            ;************************************************************************************************
                            ;*  Reset system state for next run:                                                            *
                            ;*                                                                                              *
                            ;*   * IRQ (packet)                                                                             *
                            ;*   * TIMER (timeout)                                                                          *
                            ;*   * or handle UART commands in main loop                                                     *
                            ;************************************************************************************************
                            ;undefined reset_main_loop()
                                                          ;XREF[2,0]:   <A HREF="#06e4">06e4</A>,<A HREF="#070f">070f</A>
ROM.User:0769   9c              RSP                                                 
<A NAME="076a"></A>ROM.User:076a   b601            LDA         <A HREF="#0001">SFR:PORTB</A>                               ;I/O port B
<A NAME="076c"></A>ROM.User:076c   a430            AND         #0x30                                   ;PB7 (PLL ENB) clear
                                                                                    ;PB6 (FIFO clock in byte) as-is
                                                                                    ;PB5 (LINK LED) as-is
                                                                                    ;PB4 (MESSAGE) clear (LED On)
                                                                                    ;PB3 (UART /READ) set = inactive
                                                                                    ;PB2 (FIFO /TXGATE) set = inactive
<A NAME="076e"></A>ROM.User:076e   aa0e            ORA         #0xe                                    
<A NAME="0770"></A>ROM.User:0770   b701            STA         <A HREF="#0001">SFR:PORTB</A>                               ;I/O port B
<A NAME="0772"></A>ROM.User:0772   b654            LDA         <A HREF="#0054">RAM:FLAGS54</A>                             ;= FFh
<A NAME="0774"></A>ROM.User:0774   a441            AND         #0x41                                   ;Flag7/80h = clear
                                                                                    ;Flag6/40h = left alone
                                                                                    ;Flag5/20h = clear
                                                                                    ;Flag4/10h = clear
                                                                                    ;Flag3/08h = clear
                                                                                    ;Flag2/04h = clear
<A NAME="0776"></A>ROM.User:0776   b754            STA         <A HREF="#0054">RAM:FLAGS54</A>                             ;= FFh
<A NAME="0778"></A>ROM.User:0778   a678            LDA         #120                                    ;120 timer ticks = 1800ms
<A NAME="077a"></A>ROM.User:077a   b708            STA         <A HREF="#0008">SFR:TIMER</A>                               ;Timer data register
<A NAME="077c"></A>ROM.User:077c   9a              CLI                                                 ;Enable interrupts
<A NAME="077d"></A>ROM.User:077d   cc03d5          JMP         <A HREF="#03d5">entry_from_irq</A>                          ;Go to main loop
<A NAME="0780"></A>ROM.User:0780   00              ??          00h                                     
<A NAME="0781"></A>ROM.User:0781   00              ??          00h                                     
<A NAME="0782"></A>ROM.User:0782   00              ??          00h                                     
<A NAME="0783"></A>ROM.User:0783   00              ??          00h                                     
<A NAME="07f8"></A>                            ;************************************************************************************************
                            ;*                                         ROM VECTORS                                          *
                            ;************************************************************************************************
VECTORS:07f8    06d2            addr        <A HREF="#06d2">ROM.User:_TIMER_ENTRY</A>                   ;Timer interrupt vector
<A NAME="07fa"></A>VECTORS:07fa    06e7            addr        <A HREF="#06e7">ROM.User:_IRQ_ENTRY</A>                     ;External interrupt vector
<A NAME="07fc"></A>VECTORS:07fc    0000            addr        0000                                    ;SWI vector
<A NAME="07fe"></A>VECTORS:07fe    0711            addr        <A HREF="#0711">ROM.User:_RESET_ENTRY</A>                   ;Reset vector
</PRE></STRONG></FONT></BODY></html>
